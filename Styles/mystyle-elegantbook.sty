\ProvidesPackage{mystyle-elegantbook}

%%%%%%%%%%%%%%%%%%%%%%%%%文档宏包%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{amsmath}
\usepackage{cases}% 实现大括号内多编号 一定要放在\usepackage{amsmath}之后
\usepackage{lipsum}% 生成随机文本
\usepackage{enumitem}% 插入有序列表
\usepackage{rotating}% 符号旋转
\usepackage{graphicx}% 插入图片
\usepackage{epstopdf}% 插入图片
\usepackage{float}% 调整图片位置 固定图片位置[H]
\usepackage{bm}
\usepackage[normalem]{ulem} % 各种下划线,设置normalem是为了和打印参考文献命令\printbibliography不冲突
\usepackage{soul}% 提供丰富多样的下划线,\soulcolor{red}\ul{红色下划线的文本}
\usepackage{xeCJKfntef}% 下划线可换行
\usepackage{multirow}
\usepackage{bigdelim}
\usepackage{tikz}% 绘制图表
\usepackage{tikz-cd}
\usepackage{array}% 表格
\usepackage{blkarray}% 实现对矩阵行列加编号
\usepackage{tabularray}% 绘制表格
\usepackage{amsfonts}% 加目录
\usepackage{extarrows} % 自动适应等号长度并在等号上/下加文字
% \usepackage{xr}% 实现不同(目录下的).tex文档之间的交叉引用
\usepackage{pifont}%  圆圈数字、圆圈序号
\let\widering\relax% 清除旧的\widering的定义(因为yhmath宏包中新定义了\widering这个命令,否则会冲突报错)
\usepackage{yhmath}% 用\wideparen{}画出来的圆弧上标更美观
% hyperref和xr-hyperref宏包加载顺序也不能改变,否则会报错! 尽量最后加载超链接相关宏包
\usepackage{cprotect}% 允许在“移动参数”（moving arguments，例如 \section、\caption、\footnote、\item 等会被写入辅助文件或作为标题使用的命令）的参数中使用易碎命令或 verbatim 类内容（如 \verb、\lstinline、\url 等），避免出现 “You can't use \verb in a moving argument.” 的错误。
\usepackage{hyperref}%  LaTex超链接
\usepackage{xr-hyper}% 不同文档之间交叉引用

%%%%%%%%%%%%%%%%%%%%%%%%%文档宏包%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%文档命令%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%自定义命令%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 注意:自定义命令中不能含数字(1,2,3等)

% 矩阵/行列式的行、列划线(划线方式:固定两点后在连线)
\newcommand{\ccr}[1]{\makecell{{\color{#1}\rule{1cm}{1cm}}}}
\newcommand{\MyTikzmark}[2]{%
     \tikz[overlay,remember picture,baseline] \node [anchor=base] (#1) {$#2$};%
}
\newcommand{\DrawVLine}[3][]{%
  \begin{tikzpicture}[overlay,remember picture]
    \draw[shorten <=0.3ex, #1] (#2.north) -- (#3.south);
  \end{tikzpicture}
}
\newcommand{\DrawHLine}[3][]{%
  \begin{tikzpicture}[overlay,remember picture]
    \draw[shorten <=0.2em, #1] (#2.west) -- (#3.east);
  \end{tikzpicture}
}
\newcommand\ddfrac[2]{\frac{\displaystyle #1}{\displaystyle #2}}

% 自定义交叉引用命令
% 引用定义、定理、命题、推论、引理、公理、例题、练习、图片等的命令

\newcommand{\refdef}[1]{\hyperref[#1]{定义\ref{#1}}}
\newcommand{\refthe}[1]{\hyperref[#1]{定理\ref{#1}}}
\newcommand{\refpro}[1]{\hyperref[#1]{命题\ref{#1}}}
\newcommand{\refcor}[1]{\hyperref[#1]{推论\ref{#1}}}
\newcommand{\reflem}[1]{\hyperref[#1]{引理\ref{#1}}}
\newcommand{\refaxi}[1]{\hyperref[#1]{公理\ref{#1}}}
\newcommand{\refexa}[1]{\hyperref[#1]{例题\ref{#1}}}
\newcommand{\refexe}[1]{\hyperref[#1]{练习\ref{#1}}}
\newcommand{\reffig}[1]{\hyperref[#1]{图\ref{#1}}}
\newcommand{\reftab}[1]{\hyperref[#1]{表\ref{#1}}}

\newcommand{\rrefdef}[2]{\hyperref[#1]{定义\ref{#1}\ref{#2}}}
\newcommand{\rrefthe}[2]{\hyperref[#1]{定理\ref{#1}\ref{#2}}}
\newcommand{\rrefpro}[2]{\hyperref[#1]{命题\ref{#1}\ref{#2}}}
\newcommand{\rrefcor}[2]{\hyperref[#1]{推论\ref{#1}\ref{#2}}}
\newcommand{\rreflem}[2]{\hyperref[#1]{引理\ref{#1}\ref{#2}}}
\newcommand{\rrefaxi}[2]{\hyperref[#1]{公理\ref{#1}\ref{#2}}}
\newcommand{\rrefexa}[2]{\hyperref[#1]{例题\ref{#1}\ref{#2}}}
\newcommand{\rrefexe}[2]{\hyperref[#1]{练习\ref{#1}\ref{#2}}}
\newcommand{\rreffig}[2]{\hyperref[#1]{图\ref{#1}\ref{#2}}}
\newcommand{\rreftab}[2]{\hyperref[#1]{表\ref{#1}\ref{#2}}}

\newcommand{\nrefdef}[2]{\hyperref[#1]{定义\ref{#1}#2}}
\newcommand{\nrefthe}[2]{\hyperref[#1]{定理\ref{#1}#2}}
\newcommand{\nrefpro}[2]{\hyperref[#1]{命题\ref{#1}#2}}
\newcommand{\nrefcor}[2]{\hyperref[#1]{推论\ref{#1}#2}}
\newcommand{\nreflem}[2]{\hyperref[#1]{引理\ref{#1}#2}}
\newcommand{\nrefaxi}[2]{\hyperref[#1]{公理\ref{#1}#2}}
\newcommand{\nrefexa}[2]{\hyperref[#1]{例题\ref{#1}#2}}
\newcommand{\nrefexe}[2]{\hyperref[#1]{练习\ref{#1}#2}}
\newcommand{\nreffig}[2]{\hyperref[#1]{图\ref{#1}#2}}
\newcommand{\nreftab}[2]{\hyperref[#1]{表\ref{#1}#2}}

\newcommand{\drefdef}[2]{\hyperref[#1]{定义\ref{#1}\ref{#2}}}
\newcommand{\drefthe}[2]{\hyperref[#1]{定理\ref{#1}\ref{#2}}}
\newcommand{\drefpro}[2]{\hyperref[#1]{命题\ref{#1}\ref{#2}}}
\newcommand{\drefcor}[2]{\hyperref[#1]{推论\ref{#1}\ref{#2}}}
\newcommand{\dreflem}[2]{\hyperref[#1]{引理\ref{#1}\ref{#2}}}
\newcommand{\drefaxi}[2]{\hyperref[#1]{公理\ref{#1}\ref{#2}}}
\newcommand{\drefexa}[2]{\hyperref[#1]{例题\ref{#1}\ref{#2}}}
\newcommand{\drefexe}[2]{\hyperref[#1]{练习\ref{#1}\ref{#2}}}

%自定义圆圈序号命令

\newcommand{\one}{{\large \ding{172}}} % 输出①
\newcommand{\two}{{\large \ding{173}}} % 输出②
\newcommand{\three}{{\large \ding{174}}}
\newcommand{\four}{{\large \ding{175}}}
\newcommand{\five}{{\large \ding{176}}}
\newcommand{\six}{{\large \ding{177}}}
\newcommand{\seven}{{\large \ding{178}}}
\newcommand{\eight}{{\large \ding{179}}}
\newcommand{\nine}{{\large \ding{180}}}
\newcommand{\ten}{{\large \ding{181}}}

% 交叉引用设置
% 注意这里的引用地址不是.sty文件相对于其他被引用的.tex文件地址,而是需要引用的.tex文件相对于其他被引用的.tex文件地址!!!

\externaldocument[Basis of Algebra-]{../Basis of Algebra/main}
\externaldocument[Basis of Analytics-]{../Basis of Analytics/main}
\externaldocument[Abstract Algebra-]{../Abstract Algebra/main}
\externaldocument[Complex Analysis-]{../Complex Analysis/main}
\externaldocument[Real Analysis-]{../Real Analysis/main}
\externaldocument[Probability Theory-]{../Probability Theory/main}
\externaldocument[Functional Analysis-]{../Functional Analysis/main}
\externaldocument[Set Theory-]{../Set Theory/main}
\externaldocument[Topology-]{../Topology/main}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%自定义命令%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%字体设置%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\let\kaishu\relax % 清除旧\kaishu的定义
\newCJKfontfamily\kaishu{KaiTi}[AutoFakeBold] % 重定义 \kaishu
\newCJKfontfamily\sonti{FZCuSong-B09S}[BoldFont=FZCuSong-B09S]% 改变宋体的设置

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%字体设置%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%其他命令%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\allowdisplaybreaks[4] %允许公式跨页显示
\everymath{\displaystyle} % 使全文的行内公式都显示成行间公式
% 使用\textstyle可恢复行内公式,例如${\textstyle \sum_{i=1}^nx_i}$

% 全角符号转换为半角符号
\usepackage{newunicodechar}
\newunicodechar{。}{.}
\newunicodechar{，}{,}
\newunicodechar{：}{:}
\newunicodechar{；}{;}
\newunicodechar{！}{!}
\newunicodechar{（}{(}
\newunicodechar{）}{)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%其他命令%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%参考文献%%%%%%%%%%%%%%%%%

\addbibresource[location=local]{reference.bib} % 使用Biber加载和引用参考文献,不要删除
\ExecuteBibliographyOptions{maxnames=99}% 在同一条参考文献中可显示至多99位作者名

%%%%%%%%%%%%%%%%参考文献%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%文档命令%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%