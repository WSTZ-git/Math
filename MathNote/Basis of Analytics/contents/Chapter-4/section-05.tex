\documentclass[../../main.tex]{subfiles}
\graphicspath{{\subfix{../../image/}}} % 指定图片目录,后续可以直接使用图片文件名。

% 例如:
% \begin{figure}[H]
% \centering
% \includegraphics[scale=0.4]{图.png}
% \caption{}
% \label{figure:图}
% \end{figure}
% 注意:上述\label{}一定要放在\caption{}之后,否则引用图片序号会只会显示??.

\begin{document}

\section{Stolz定理}

\subsection{数列Stolz定理}

\begin{theorem}[Stolz定理]\label{theorem:Stolz定理}
(a):设\(x_n\)是严格递增数列且满足\(\lim_{n \to \infty} x_n = +\infty\),则
\begin{align*}
\underset{n\rightarrow \infty}{{\varliminf }} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n} \leqslant \underset{n\rightarrow \infty}{{\varliminf }} \frac{y_n}{x_n} \leqslant \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_n}{x_n} \leqslant \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n}.
\end{align*}

(b):设\(x_n\)是严格递减数列且满足\(\lim_{n \to \infty} x_n = \lim_{n \to \infty} y_n = 0\),则
\begin{align*}
\underset{n\rightarrow \infty}{{\varliminf }} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n} \leqslant \underset{n\rightarrow \infty}{{\varliminf }} \frac{y_n}{x_n} \leqslant \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_n}{x_n} \leqslant \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n}.
\end{align*}

(c):分别在(a),(b)的条件基础上,若还有\(\lim_{n \to \infty} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n}\)存在或者为确定符号的\(\infty\),则
\begin{align}\label{equation:Stolz公式(c)}
\lim_{n \to \infty} \frac{y_n}{x_n} = \lim_{n \to \infty} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n} .
\end{align}
\end{theorem}
\begin{remark}
注意(c)由(a),(b)是显然的,且只有\(\lim_{n \to \infty} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n}\)存在或者为确定符号的\(\infty\)时才\eqref{equation:Stolz公式(c)}式成立.他和我们的洛必达法则有一定的相似程度.即\hyperref[theorem:Stolz定理]{Stolz定理}是离散的洛必达法则.
\end{remark}
\begin{proof}
我们仅证明\(x_n\)是严格递增数列且满足\(\lim_{n \to \infty} x_n = +\infty\)和\(\lim_{n \to \infty} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n} < \infty\)时有
\begin{align}\label{equation:2.1123}
\underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_n}{x_n} \leqslant \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n}.
\end{align}

记\(A \triangleq \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_{n + 1} - y_n}{x_{n + 1} - x_n}\),由上极限定义我们知道对任何\(\varepsilon > 0\),存在\(N \in \mathbb{N}\),使得
\(\frac{y_{n + 1} - y_n}{x_{n + 1} - x_n} \leqslant A + \varepsilon, \forall n \geqslant N\).

利用\(x_n\)严格递增时,成立\(y_{n + 1} - y_n \leqslant (A + \varepsilon)(x_{n + 1} - x_n), n \geqslant N\),然后求和得
\begin{align*}
\sum\limits_{j = N}^{n - 1} (y_{j + 1} - y_j) \leqslant (A + \varepsilon) \sum\limits_{j = N}^{n - 1} (x_{j + 1} - x_j), \forall n \geqslant N + 1.
\end{align*}
即
\begin{align*}
y_n - y_N \leqslant (A + \varepsilon)(x_n - x_N), \forall n \geqslant N + 1.
\end{align*}
令$n\to+\infty$,取上极限就得
\begin{align*}
\underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_n}{x_n} = \underset{n\rightarrow \infty}{{\varlimsup }} \frac{\frac{y_n}{x_n} - \frac{y_N}{x_n}}{1 - \frac{x_N}{x_n}} = \underset{n\rightarrow \infty}{{\varlimsup }} \frac{y_n - y_N}{x_n - x_N} \leqslant A + \varepsilon.
\end{align*}
由\(\varepsilon\)任意性得到式\eqref{equation:2.1123}.
\end{proof}

\begin{proposition}[Cauchy命题]\label{proposition:Cauchy命题}
若\(\lim_{n \to \infty} y_n\)存在或者为确定符号的\(\infty\),则有
\begin{align*}
\lim_{n \to \infty} \frac{y_1 + y_2 + \cdots + y_n}{n} = \lim_{n \to \infty} y_n.
\end{align*}
\end{proposition}
\begin{note}
这个命题说明\hyperref[theorem:Stolz定理]{Stolz定理}是一种有效的把求和消去的降阶方法.
\end{note}
\begin{proof}
容易由\hyperref[theorem:Stolz定理]{Stolz定理的(a)}直接得出.
\end{proof}

\subsubsection{利用Stolz定理求数列极限}

\begin{example}
计算
\begin{align*}
\lim_{n \to \infty} \frac{\ln n}{\ln \sum\limits_{k = 1}^{n} k^{2020}}.
\end{align*}
\end{example}
\begin{note}
本题计算过程中使用了Lagrange中值定理,只是过程省略了而已(以后这种过程都会省略).
\end{note}
\begin{proof}
由\hyperref[theorem:Stolz定理]{Stolz定理}可得
\begin{align*}
\lim_{n \to \infty} \frac{\ln n}{\ln \sum\limits_{k = 1}^{n} k^{2020}}=\lim_{n\rightarrow \infty} \frac{\ln\mathrm{(}n+1)-\ln n}{\ln \sum\limits_{k=1}^{n+1}{k^{2020}}-\ln \sum\limits_{k=1}^n{k^{2020}}}=\lim_{n\rightarrow \infty} \frac{\ln\mathrm{(}1+\frac{1}{n})}{\ln \frac{\sum\limits_{k=1}^{n+1}{k^{2020}}}{\sum\limits_{k=1}^n{k^{2020}}}}=\lim_{n\rightarrow \infty} \frac{\frac{1}{n}}{\ln\mathrm{(}1+\frac{(n+1)^{2020}}{\sum\limits_{k=1}^n{k^{2020}}})}.
\end{align*}
又由\hyperref[theorem:Stolz定理]{Stolz定理}可知
\begin{align*}
\lim_{n\rightarrow \infty} \frac{(n+1)^{2020}}{\sum\limits_{k=1}^n{k^{2020}}}=\lim_{n\rightarrow \infty} \frac{(n+2)^{2020}-(n+1)^{2020}}{(n+1)^{2020}}=\lim_{n\rightarrow \infty} \frac{2020\cdot n^{2019}}{(n+1)^{2020}}=0.
\end{align*}
于是再利用\hyperref[theorem:Stolz定理]{Stolz定理}可得
\begin{align*}
&\lim_{n\rightarrow \infty} \frac{\frac{1}{n}}{\ln\mathrm{(}1+\frac{(n+1)^{2020}}{\sum\limits_{k=1}^n{k^{2020}}})}=\lim_{n\rightarrow \infty} \frac{\frac{1}{n}}{\frac{(n+1)^{2020}}{\sum\limits_{k=1}^n{k^{2020}}}}=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{k^{2020}}}{n\cdot (n+1)^{2020}}=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{k^{2020}}}{n^{2021}}  \\
&=\lim_{n\rightarrow \infty} \frac{(n+1)^{2020}}{(n+1)^{2021}-n^{2021}}=\lim_{n\rightarrow \infty} \frac{(n+1)^{2020}}{2021\cdot n^{2020}}=\frac{1}{2021}.
\end{align*}
故$\lim_{n \to \infty} \frac{\ln n}{\ln \sum\limits_{k = 1}^{n} k^{2020}}=\frac{1}{2021}$.
\end{proof}

\begin{example}
\begin{enumerate}
\item 计算极限\(\lim_{n \to \infty} \frac{\sum\limits_{k = 1}^{n} \frac{1}{k}}{\ln n}\).

\item 证明下述极限存在
\(\lim_{n \to \infty} \left(\sum\limits_{k = 1}^{n} \frac{1}{k} - \ln n\right)\).

\item 计算
\(\lim_{n \to \infty} n \left(\sum\limits_{k = 1}^{n} \frac{1}{k} - \ln n - \gamma\right)\).
\end{enumerate}
\end{example}
\begin{note}
注意,\(\gamma \triangleq \lim_{n \to \infty} \left(\sum\limits_{k = 1}^{n} \frac{1}{k} - \ln n\right) \approx 0.577\cdots\)
是没有初等表达式的,我们只能规定为一个数字,这个数字叫做欧拉常数,截至目前,人类甚至都不知道\(\gamma\)会不会是一个分数.
\end{note}
\begin{solution}
\begin{enumerate}
\item 直接由\hyperref[theorem:Stolz定理]{Stolz定理}可得
\[\lim_{n \to \infty} \frac{\sum\limits_{k = 1}^{n} \frac{1}{k}}{\ln n} = \lim_{n \to \infty} \frac{\frac{1}{n + 1}}{\ln (n + 1) - \ln n} = \lim_{n \to \infty} \frac{\frac{1}{n + 1}}{\frac{1}{n}} = 1.\]

\item 记\(c_n=\sum\limits_{k = 1}^n{\frac{1}{k}-\ln n}\),则
\begin{align*}
c_{n + 1}-c_n&=\frac{1}{n + 1}+\ln n-\ln (n + 1)
=\frac{1}{n + 1}-\ln\left(1+\frac{1}{n}\right)\\
&=\frac{1}{n + 1}-\left[\frac{1}{n}+O\left(\frac{1}{n^2}\right)\right]
=-\frac{1}{n(n + 1)}+O\left(\frac{1}{n^2}\right)\\
&=O\left(\frac{1}{n^2}\right),n\rightarrow +\infty.
\end{align*}
从而存在常数\(C > 0\),使得\(\left|c_{n + 1}-c_n\right|\leq\frac{C}{n^2}\),又因为\(\sum\limits_{n = 1}^{\infty}\frac{C}{n^2}\)收敛,所以由比较原则可知\(\sum\limits_{n = 1}^{\infty}{\left|c_{n + 1}-c_n\right|}\)也收敛.由于数列级数绝对收敛一定条件收敛,因此\(\sum\limits_{n = 1}^{\infty}{\left(c_{n + 1}-c_n\right)}\)也收敛,即\(\lim_{n\rightarrow\infty}\sum\limits_{k = 1}^n{\left(c_{k + 1}-c_k\right)}=\lim_{n\rightarrow\infty}\left(c_{n + 1}-c_1\right)\)存在.故\(\lim_{n\rightarrow\infty}c_n=\lim_{n\rightarrow\infty}\left(\sum\limits_{k = 1}^n{\frac{1}{k}-\ln n}\right)\)也存在.

\item 由\hyperref[theorem:Stolz定理]{Stolz定理}可得
\begin{align*}
&\lim_{n\rightarrow \infty} n\left( \sum\limits_{k=1}^n{\frac{1}{k}}-\ln n-\gamma \right) =\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{\frac{1}{k}}-\ln n-\gamma}{\frac{1}{n}}=\lim_{n\rightarrow \infty} \frac{\frac{1}{n+1}-\ln \left( 1+\frac{1}{n} \right)}{\frac{1}{n+1}-\frac{1}{n}}
\\
&\underset{n\rightarrow \infty}{\lim}\frac{1}{\left( \frac{1}{n+1}-\frac{1}{n} \right) n^2}\cdot \lim_{n\rightarrow \infty} n^2\left[ \frac{1}{n+1}-\ln \left( 1+\frac{1}{n} \right) \right] 
=\underset{n\rightarrow \infty}{\lim}\frac{1}{-\frac{1}{n\left( n+1 \right)}\cdot n^2}\cdot \lim_{n\rightarrow \infty} n^2\left[ \frac{1}{n+1}-\ln \left( 1+\frac{1}{n} \right) \right] 
\\
&=-\lim_{n\rightarrow \infty} n^2\left[ \frac{1}{n+1}-\left( \frac{1}{n}-\frac{1}{2n^2}+o\left( \frac{1}{n^2} \right) \right) \right] =\frac{1}{2}.
\end{align*}
因此我们得到了调和级数的渐进估计:
\begin{align*}
\sum\limits_{k=1}^n{\frac{1}{k}}=\ln n+\gamma +\frac{1}{2n}+o\left( \frac{1}{n} \right) ,n\rightarrow \infty.
\end{align*}
\end{enumerate}
\end{solution}

\begin{example}
计算
\begin{enumerate}
\item \(\lim_{n \to \infty} \frac{\sqrt[n]{n!}}{n}\);
\item \(\lim_{n \to \infty} (\sqrt[n + 1]{(n + 1)!} - \sqrt[n]{n!})\).
\end{enumerate}
\end{example}
\begin{proof}
\begin{enumerate}
\item 由\hyperref[theorem:Stolz定理]{Stolz定理}可得
\begin{align*}
\lim_{n\rightarrow \infty} \frac{\sqrt[n]{n!}}{n}&=\lim_{n\rightarrow \infty} \frac{e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}}}{n}=\lim_{n\rightarrow \infty} e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}-\ln n}=e^{\lim\limits_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{\ln k}-n\ln n}{n}}
\\
&=e^{\lim\limits_{n\rightarrow \infty} \frac{\ln \left(n+1\right)-\left( n+1 \right) \ln \left( n+1 \right) +n\ln n}{1}}=e^{\lim\limits_{n\rightarrow \infty} n \ln \frac{n+1}{n}}
\\
&=e^{\lim\limits_{n\rightarrow \infty} n\left( \frac{n}{n+1}-1 \right)}=e^{-1}.
\end{align*}

\item 注意到\begin{align*}
\lim_{n\rightarrow \infty} \left( \sqrt[n+1]{\left( n+1 \right) !}-\sqrt[n]{n!} \right) =\lim_{n\rightarrow \infty} \left( e^{\frac{\sum\limits_{k=1}^{n+1}{\ln k}}{n+1}}-e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}} \right) =\lim_{n\rightarrow \infty} e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}}\left( e^{\frac{\sum\limits_{k=1}^{n+1}{\ln k}}{n+1}-\frac{\sum\limits_{k=1}^n{\ln k}}{n}}-1 \right).
\end{align*}
由上一小题可知
\begin{align*}
\lim_{n\rightarrow \infty} \frac{\sqrt[n]{n!}}{n}=\lim_{n\rightarrow \infty} \frac{e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}}}{n}=e^{-1}.
\end{align*}
故$e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}}\sim \frac{n}{e},n\to\infty$.
并且
\begin{align*}
&\lim_{n\rightarrow \infty} \left( \frac{\sum\limits_{k=1}^{n+1}{\ln k}}{n+1}-\frac{\sum\limits_{k=1}^n{\ln k}}{n} \right) =\lim_{n\rightarrow \infty} \frac{n\sum\limits_{k=1}^{n+1}{\ln k}-\left( n+1 \right) \sum\limits_{k=1}^n{\ln k}}{n\left( n+1 \right)}=\lim_{n\rightarrow \infty} \frac{n\ln \left( n+1 \right) -\sum\limits_{k=1}^n{\ln k}}{n\left( n+1 \right)}
\\
&=-\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{\ln k}}{n\left( n+1 \right)}\xlongequal{\text{\hyperref[theorem:Stolz定理]{Stolz定理}}}-\lim_{n\rightarrow \infty} \frac{\ln n}{2\left( n+1 \right)}=0.
\end{align*}
因此
\begin{align*}
&\lim_{n\rightarrow \infty} \left( \sqrt[n+1]{\left( n+1 \right) !}-\sqrt[n]{n!} \right) =\lim_{n\rightarrow \infty} e^{\frac{\sum\limits_{k=1}^n{\ln k}}{n}}\left( e^{\frac{\sum\limits_{k=1}^{n+1}{\ln k}}{n+1}-\frac{\sum\limits_{k=1}^n{\ln k}}{n}}-1 \right) =\lim_{n\rightarrow \infty} \frac{n}{e}\cdot \left( \frac{\sum\limits_{k=1}^{n+1}{\ln k}}{n+1}-\frac{\sum\limits_{k=1}^n{\ln k}}{n} \right) 
\\
&=\frac{1}{e}\lim_{n\rightarrow \infty} n\cdot \frac{n\ln \left( n+1 \right) -\sum\limits_{k=1}^n{\ln k}}{n\left( n+1 \right)}=\frac{1}{e}\lim_{n\rightarrow \infty} \frac{n\ln \left( n+1 \right) -\sum\limits_{k=1}^n{\ln k}}{n+1}
\\
&\xlongequal{\text{\hyperref[theorem:Stolz定理]{Stolz定理}}}\frac{1}{e}\lim_{n\rightarrow \infty} \left[ \left( n+1 \right) \ln \left( n+2 \right) -\sum\limits_{k=1}^{n+1}{\ln k}-n\ln \left( n+1 \right) +\sum\limits_{k=1}^n{\ln k} \right] 
\\
&=\frac{1}{e}\lim_{n\rightarrow \infty} \left[ \left( n+1 \right) \ln \left( n+2 \right) -\left( n+1 \right) \ln \left( n+1 \right) \right] =\frac{1}{e}\lim_{n\rightarrow \infty} \left( n+1 \right) \ln \left( 1+\frac{1}{n+1} \right) 
\\
&=\frac{1}{e}\lim_{n\rightarrow \infty} \left( n+1 \right) \left[ \frac{1}{n+1}+o\left( \frac{1}{n+1} \right) \right] =\frac{1}{e}.
\end{align*}
\end{enumerate}
\end{proof}

\begin{example}
计算
\[
\lim_{n \to \infty} \frac{\sum\limits_{k = 1}^{n} \ln C_{n}^{k}}{n^2}.
\]
\end{example}
\begin{note}
注意到,分子求和时,不是单纯的\(\sum\limits_{k = 0}^{n + 1} \ln C_{n}^{k} - \sum\limits_{k = 0}^{n} \ln C_{n}^{k}\),而是\(\sum\limits_{k = 0}^{n + 1} \ln C_{n + 1}^{k} - \sum\limits_{k = 0}^{n} \ln C_{n}^{k}\).

组合数的定义和性质可以参考Binomial Coefficient.
\end{note}
\begin{conclusion}
$\mathrm{C}_{a}^{b}=\frac{a}{b}\mathrm{C}_{a-1}^{b-1}$.
\end{conclusion}
\begin{solution}
由\hyperref[theorem:Stolz定理]{Stolz定理}可得\begin{align*}
&\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{\ln C_{n}^{k}}}{n^2}=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^{n+1}{\ln C_{n+1}^{k}}-\sum\limits_{k=1}^n{\ln C_{n}^{k}}}{n^2-\left( n-1 \right) ^2}=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^{n+1}{\ln C_{n+1}^{k}}-\sum\limits_{k=1}^n{\ln C_{n}^{k}}}{2n}
\\
&=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^n{\ln C_{n+1}^{k}}-\sum\limits_{k=1}^n{\ln C_{n}^{k}}}{2n}=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^{n\,\,}{\ln \left( \frac{n+1}{k}C_{n}^{k-1} \right)}-\sum\limits_{k=1}^n{\ln C_{n}^{k}}}{2n}
\\
&=\lim_{n\rightarrow \infty} \frac{\sum\limits_{k=1}^{n\,\,}{\ln \left( n+1 \right)}-\sum\limits_{k=1}^{n\,\,}{\ln k}+\sum\limits_{k=1}^n{\left( \ln C_{n}^{k-1}-\ln C_{n}^{k} \right)}}{2n}=\lim_{n\rightarrow \infty} \frac{n\ln \left( n+1 \right) -\sum\limits_{k=1}^{n\,\,}{\ln k}-\left( \ln C_{n}^{0}-\ln C_{n}^{n} \right)}{2n}
\\
&=\lim_{n\rightarrow \infty} \frac{n\ln \left( n+1 \right) -\sum\limits_{k=1}^{n\,\,}{\ln k}}{2n}=\frac{1}{2}\lim_{n\rightarrow \infty} \frac{\left( n+1 \right) \ln \left( n+2 \right) -n\ln \left( n+1 \right) -\ln \left( n+1 \right)}{1}
\\
&=\frac{1}{2}\lim_{n\rightarrow \infty} \left( n+1 \right) \ln \frac{n+2}{n+1}=\frac{1}{2}\lim_{n\rightarrow \infty} \left( n+1 \right) \left( \frac{n+2}{n+1}-1 \right) =\frac{1}{2}.
\end{align*}
\end{solution}

\begin{example}
求极限\(\lim_{n\rightarrow\infty}\sum_{k = 1}^{n}\frac{n + 1}{2^k(n + 1 - k)}\)
\end{example}
\begin{note}
倒序求和与顺序求和相等!(看到$n+1-k$,就应该想到倒序求和)
\end{note}
\begin{solution}
{\color{blue}解法一(Stolz公式):}
\begin{align*}
\lim_{n\rightarrow\infty}\sum_{k = 1}^{n}\frac{n + 1}{2^k(n + 1 - k)}&=\lim_{n\rightarrow\infty}\sum_{k = 1}^{n}\frac{n + 1}{2^{n + 1 - k}k}=\lim_{n\rightarrow\infty}\frac{\sum\limits_{k = 1}^{n}\frac{2^k}{k}}{\frac{2^{n + 1}}{n + 1}}=\lim_{n\rightarrow\infty}\frac{\frac{2^n}{n}}{\frac{2^{n + 1}}{n + 1}-\frac{2^n}{n}}=\lim_{n\rightarrow\infty}\frac{\frac{1}{n}}{\frac{2}{n + 1}-\frac{1}{n}} = 1.
\end{align*}

{\color{blue}解法二(\hyperref[section:和式内部对n可求极限(极限号与求和号可换序)]{和式内部对n可求极限(极限号与求和号可换序)}):}一方面，注意到对 \(\forall N\in \mathbb{N}_+\)，都有
\[
\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\geqslant \sum_{k = 1}^N\frac{n + 1}{2^k(n + 1 - k)},\forall n > N.
\]
上式两边同时令 \(n\rightarrow \infty\) 并取下极限，得到
\begin{align*}
\varliminf_{n\rightarrow \infty}\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\geqslant \varliminf_{n\rightarrow \infty}\sum_{k = 1}^N\frac{n + 1}{2^k(n + 1 - k)}
=\sum_{k = 1}^N\varliminf_{n\rightarrow \infty}\frac{n + 1}{2^k(n + 1 - k)}
=\sum_{k = 1}^N\frac{1}{2^k}
=\frac{\frac{1}{2}(1 - \frac{1}{2^N})}{1 - \frac{1}{2}},\forall N\in \mathbb{N}_+.
\end{align*}
令 \(N\rightarrow \infty\)，则 \(\varliminf_{n\rightarrow \infty}\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\geqslant \lim_{N\rightarrow \infty}\frac{\frac{1}{2}(1 - \frac{1}{2^N})}{1 - \frac{1}{2}} = 1\).

另一方面，我们有
\[
\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\leqslant \sum_{k = 1}^n\frac{1}{2^k(n + 1 - n)}=\sum_{k = 1}^n\frac{1}{2^k}=\frac{\frac{1}{2}(1 - \frac{1}{2^n})}{1 - \frac{1}{2}},\forall n\in \mathbb{N}_+.
\]
上式两边同时令 \(n\rightarrow \infty\) 并取上极限，得到
\[
\varlimsup_{n\rightarrow \infty}\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\leqslant \varlimsup_{n\rightarrow \infty}\frac{\frac{1}{2}(1 - \frac{1}{2^n})}{1 - \frac{1}{2}} = 1.
\]
故
\[
1\leqslant \varliminf_{n\rightarrow \infty}\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\leqslant \varlimsup_{n\rightarrow \infty}\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)}\leqslant 1.
\]
即 \(\lim_{n\rightarrow \infty}\sum_{k = 1}^n\frac{n + 1}{2^k(n + 1 - k)} = 1\).
\end{solution}

\begin{example}
求极限\(\lim_{n\rightarrow\infty}n(H_n-\ln n - \gamma)\)，其中\(\gamma\)为欧拉常数，\(H_n = 1+\frac{1}{2}+\cdots+\frac{1}{n}\)。
\end{example}
\begin{proof}
\begin{align*}
\lim_{n\rightarrow\infty}n(H_n - \ln n - \gamma)&=\lim_{n\rightarrow\infty}\frac{H_n - \ln n - \gamma}{\frac{1}{n}}=\lim_{n\rightarrow\infty}\frac{H_{n + 1}-H_n-\ln(n + 1)+\ln n}{\frac{1}{n + 1}-\frac{1}{n}}\\
&=\lim_{n\rightarrow\infty}\frac{\frac{1}{n + 1}-\ln(1 + \frac{1}{n})}{-\frac{1}{n^2}}=\lim_{n\rightarrow\infty}n^2\left(\ln(1 + \frac{1}{n})-\frac{1}{n + 1}\right)=\lim_{n\rightarrow\infty}n^2\left(\frac{1}{n}-\frac{1}{2n^2}-\frac{1}{n + 1}\right)=\frac{1}{2}
\end{align*}
\end{proof}
\begin{remark}
类似的，你可以继续计算\(\lim_{n\rightarrow\infty}\left(n(H_n - \ln n - \gamma)-\frac{1}{2}\right)\)，并且仅用stolz公式就能证明存在一列\(c_1,\cdots,c_k\)使得
\[H_n=\ln n+\gamma+\frac{c_1}{n}+\frac{c_2}{n^2}+\cdots+\frac{c_k}{n^k}+O\left(\frac{1}{n^{k + 1}}\right),n\rightarrow\infty.\]
\end{remark}

\begin{example}
求极限\(\lim_{n\rightarrow\infty}\frac{1}{n}\sum_{k = 1}^{n}\sqrt{1 + \frac{k}{n}}\).
\end{example}
\begin{note}
这题也可以凑定积分定义是显然的.
\end{note}
\begin{proof}
\begin{align*}
\lim_{n\rightarrow\infty}\frac{1}{n}\sum_{k = 1}^{n}\sqrt{1 + \frac{k}{n}}&=\lim_{n\rightarrow\infty}\frac{\sum\limits_{k = 1}^{n}\sqrt{n + k}}{n\sqrt{n}}=\lim_{n\rightarrow\infty}\frac{\sqrt{2n + 1}+\sqrt{2n + 2}-\sqrt{n + 1}}{\frac{3}{2}\sqrt{n}}=\frac{2}{3}(2\sqrt{2}-1).
\end{align*}
\end{proof}




\subsubsection{利用Stolz定理求抽象数列极限}

\begin{example}\label{example4.47231}
设\(x_1 > 0,x_{n + 1}=x_n+\frac{1}{x_n\sqrt{n}}\)，求极限\(\lim_{n\rightarrow\infty}n^{-\frac{1}{4}}x_n\)。
\end{example}
\begin{proof}
归纳易证\(x_n\)单调递增,如果\(x_n\)有界则设\(x_n\leq A<\infty\)，代入条件可知\(x_{n + 1}-x_n=\frac{1}{\sqrt{nx_n}}\geq\frac{1}{A\sqrt{n}}\)，从而$x_{n+1}=\sum_{k=1}^n{\left( x_{k+1}-x_k \right)}\geqslant \sum_{k=1}^n{\frac{1}{A\sqrt{n}}}$.而这个不等式右边发散,故$x_n$也发散,矛盾.所以\(x_n\)单调递增趋于无穷，下面用Stolz公式求极限
\begin{align*}
\lim_{n\rightarrow \infty} \frac{x_{n}^{2}}{\sqrt{n}}=\lim_{n\rightarrow \infty} \frac{x_{n+1}^{2}-x_{n}^{2}}{\frac{1}{2\sqrt{n}}}=\lim_{n\rightarrow \infty} \frac{\left( x_{n+1}-x_n \right) \left( x_{n+1}+x_n \right)}{\frac{1}{2\sqrt{n}}}=\lim_{n\rightarrow \infty} \frac{\frac{1}{x_n\sqrt{n}}\left( 2x_n+\frac{1}{x_n\sqrt{n}} \right)}{\frac{1}{2\sqrt{n}}}=2\lim_{n\rightarrow \infty} \left( 2+\frac{1}{x_{n}^{2}\sqrt{n}} \right) =4.
\end{align*}
因此所求的极限是\(2\).
\end{proof}
\begin{remark}
\begin{enumerate}
\item 直接用stolz会做不出来：
\[
\lim_{n\rightarrow \infty} \frac{x_n}{n^{\frac{1}{4}}}=\lim_{n\rightarrow \infty} \frac{x_{n+1}-x_n}{\frac{1}{4}n^{-\frac{3}{4}}}=\lim_{n\rightarrow \infty} \frac{4\frac{1}{x_n\sqrt{n}}}{n^{-\frac{3}{4}}}=4\lim_{n\rightarrow \infty} \frac{n^{-\frac{1}{4}}}{x_n}.
\]
设$\lim_{n\rightarrow \infty} \frac{x_n}{n^{\frac{1}{4}}}=A$,则由上式可得$A=\frac{4}{A}$,解得$A=2$.

但是注意我们事先并没有论证上式最后一个极限存在,所以不满足Stolz定理的条件,这导致前面的等号都不一定成立.因此不可以“解方程”得到所求极限为\(2\).

\item \textbf{上述证明中最后一步求原式平方的极限而不求其他次方的极限的原因:}我们也可以待定系数自己探索出数列的阶并算出这样的结果,待定$a,b>0$,则由Stolz定理可得
\begin{align*}
\lim_{n\rightarrow \infty} \frac{x_{n}^{a}}{n^b}=\lim_{n\rightarrow \infty} \frac{x_{n+1}^{a}-x_{n}^{a}}{bn^{b-1}}=\lim_{n\rightarrow \infty} \frac{\left( x_n+\frac{1}{x_n\sqrt{n}} \right) ^a-x_{n}^{a}}{bn^{b-1}}=\lim_{n\rightarrow \infty} \frac{x_{n}^{a}\left( \left( 1+\frac{1}{x_{n}^{2}\sqrt{n}} \right) ^a-1 \right)}{bn^{b-1}}
=\lim_{n\rightarrow \infty} \frac{x_{n}^{a}\frac{a}{x_{n}^{2}\sqrt{n}}}{bn^{b-1}}=\frac{a}{b}\lim_{n\rightarrow \infty} \frac{x_{n}^{a-2}}{n^{b-\frac{1}{2}}}.
\end{align*}
我们希望上式最后一个极限能够直接算出具体的数,因此令$a=2,b=\frac{1}{2}$,则$\lim_{n\rightarrow \infty} \frac{x_{n}^{a}}{n^b}=\lim_{n\rightarrow \infty} \frac{x_{n}^{2}}{\sqrt{n}}=\frac{a}{b}=4$.故实际书写中我们只需要利用Stolz定理求出\(\lim_{n\rightarrow\infty}\frac{x_n^{2}}{\sqrt{n}}\)即可.

类似题目的最后一步求的极限式都是通过这种待定系数的方式得到的,并不是靠猜.
\end{enumerate}
\end{remark}

\begin{example}
设 $0 < x_0 < y_0 < \frac{\pi}{2}$, $x_{n + 1} = \sin x_n$, $y_{n + 1} = \sin y_n$ ($n \geq 0$)。证明: $\lim\limits_{n \to +\infty} \frac{x_n}{y_n} = 1$。
\end{example}
\begin{proof}
因为 $x_{n + 1} = \sin x_n < x_n$ ($n \geq 0$), 所以数列 $\{x_n\}$ 严格递减有下界。设 $\lim\limits_{n \to +\infty} x_n = a$, 则 $\sin a = a$, 于是 $a = 0$, 即 $\lim\limits_{n \to +\infty} x_n = 0$。同理, $\lim\limits_{n \to +\infty} y_n = 0$。

另外, 由 $0 < x_0 < y_0 < \frac{\pi}{2}$ 可以推得 $0 < x_n < y_n < \frac{\pi}{2}$ ($n \geq 0$)。取正整数 $\ell$ 使得 $y_{\ell} < x_0$, 则 $y_{\ell} < x_0 < y_0$, 从而对任意的正整数 $n$ 有
\begin{align*}
y_{n + \ell} < x_n < y_n
\end{align*}
进而
\begin{align*}
\frac{y_{n + \ell}}{y_n} < \frac{x_n}{y_n} < 1
\end{align*}
注意到 $\lim\limits_{n \to +\infty} \frac{y_{n + \ell}}{y_n} = 1$, 由夹逼准则即得 $\lim\limits_{n \to +\infty} \frac{x_n}{y_n} = 1$。 
\end{proof}
\begin{remark}
事实上,通过待定系数,利用Stolz公式做形式计算可以得到$x_n$的阶.待定$\alpha,\beta>0$,由 Stolz 公式可得
\begin{align*}
\underset{n\rightarrow \infty}{\lim}n^{\beta}x_{n}^{\alpha}&=\underset{n\rightarrow \infty}{\lim}\frac{n^{\beta}}{\frac{1}{x_{n}^{\alpha}}}=\underset{n\rightarrow \infty}{\lim}\frac{\beta n^{\beta -1}}{\frac{1}{\sin ^{\alpha}x_n}-\frac{1}{x_{n}^{\alpha}}}
\\
&=\beta \underset{n\rightarrow \infty}{\lim}\frac{n^{\beta -1}x_{n}^{\alpha}\sin ^{\alpha}x_n}{x_{n}^{\alpha}-\sin ^{\alpha}x_n}=\beta \underset{n\rightarrow \infty}{\lim}\frac{n^{\beta -1}x_{n}^{2\alpha}}{x_{n}^{\alpha}-\left( x_n-\frac{1}{6}x_{n}^{3}+o\left( x_{n}^{3} \right) \right) ^{\alpha}}
\\
&=\beta \underset{n\rightarrow \infty}{\lim}\frac{n^{\beta -1}x_{n}^{2\alpha}}{\mathrm{C}_{\alpha}^{1}x_{n}^{\alpha -1}\cdot \frac{1}{6}x_{n}^{3}+o\left( x_{n}^{\alpha +2} \right)}=\frac{6\beta}{\alpha}\underset{n\rightarrow \infty}{\lim}\frac{n^{\beta -1}}{x_{n}^{2-\alpha}+o\left( x_{n}^{2-\alpha} \right)}.
\end{align*}
于是取$\alpha=2,\beta=1$,可得$\underset{n\rightarrow \infty}{\lim}nx_{n}^{2}=\frac{6\cdot 1}{2}=3.$同理可得$\underset{n\rightarrow \infty}{\lim}ny_{n}^{2}=3.$.
故 $\lim\limits_{n \to +\infty} \sqrt{n} x_n = \lim\limits_{n \to +\infty} \sqrt{n} y_n = \sqrt{3}$。 
\end{remark}

\begin{example}
设\(k\geq2,a_0 > 0,a_{n + 1}=a_n+\frac{1}{\sqrt[k]{a_n}}\)，求极限\(\lim_{n\rightarrow\infty}\frac{a_n^{k + 1}}{n^k}\)。
\end{example}
\begin{note}
这题很容易能猜出要先对原极限开$k$次方再用Stolz定理求解.

实际上,我们也可以同\hyperref[example4.47231]{例题\ref{example4.47231}}一样,待定系数自己探索出数列的阶并算出这样的结果,待定$a,b>0$,则由Stolz定理可得
\begin{align*}
&\lim_{n\rightarrow \infty} \frac{a_{n}^{a\left( k+1 \right)}}{n^{bk}}=\lim_{n\rightarrow \infty} \frac{a_{n+1}^{a\left( k+1 \right)}-a_{n}^{a\left( k+1 \right)}}{bkn^{bk-1}}=\lim_{n\rightarrow \infty} \frac{\left( a_n+a_{n}^{-\frac{1}{k}} \right) ^{a\left( k+1 \right)}-a_{n}^{a\left( k+1 \right)}}{bkn^{bk-1}}
\\
&=\lim_{n\rightarrow \infty} \frac{a_{n}^{a\left( k+1 \right)}\left[ \left( 1+a_{n}^{-\frac{1}{k}-1} \right) ^{a\left( k+1 \right)}-1 \right]}{bkn^{bk-1}}=\lim_{n\rightarrow \infty} \frac{a_{n}^{a\left( k+1 \right)}\frac{\frac{1}{k}+1}{a_{n}^{\frac{1}{k}+1}}}{bkn^{bk-1}}=\frac{k+1}{bk^2}\lim_{n\rightarrow \infty} \frac{a_{n}^{a\left( k+1 \right) -\frac{k+1}{k}}}{n^{bk-1}}.
\end{align*}
我们希望上式最后一个极限能够直接算出具体的数值,因此令$a=b=\frac{1}{k}$,于是$\lim_{n\rightarrow \infty} \frac{a_{n}^{a\left( k+1 \right)}}{n^{bk}}=\lim_{n\rightarrow \infty} \frac{a_{n}^{1+\frac{1}{k}}}{n}=\frac{k+1}{\frac{1}{k}k^2}\lim_{n\rightarrow \infty} \frac{a_{n}^{\frac{k+1}{k}-\frac{k+1}{k}}}{n^{\frac{k}{k}-1}}=\frac{k+1}{k}$.故实际书写中我们只需要利用Stolz定理求出\(\lim_{n\rightarrow\infty}\frac{a_n^{1+\frac{1}{k}}}{n}\)即可.
\end{note}
\begin{proof}
归纳易证\(a_n\)单调递增,假设$a_n$有界,则由单调有界定理可知,$a_n$收敛,设$\underset{n\rightarrow \infty}{\lim}a_n=A<\infty $.则由递推条件可得,$A=A+\frac{1}{\sqrt[k]{A}}$,无解,矛盾.于是$a_n$单调递增且无上界,故$\underset{n\rightarrow \infty}{\lim}a_n=+\infty$.
根据Stolz公式有
\begin{align*}
\lim_{n\rightarrow\infty}\frac{a_n^{1+\frac{1}{k}}}{n}&=\lim_{n\rightarrow\infty}\left(a_{n + 1}^{1+\frac{1}{k}}-a_n^{1+\frac{1}{k}}\right)=\lim_{n\rightarrow\infty}\left(\left(a_n + a_n^{-\frac{1}{k}}\right)^{1+\frac{1}{k}}-a_n^{1+\frac{1}{k}}\right)=\lim_{n\rightarrow\infty}a_n^{1+\frac{1}{k}}\left(\left(1 + a_n^{-\frac{1}{k}-1}\right)^{1+\frac{1}{k}}-1\right)\\
&=\lim_{x\rightarrow+\infty}x^{1+\frac{1}{k}}\left(\left(1 + x^{-(1+\frac{1}{k})}\right)^{1+\frac{1}{k}}-1\right)=\lim_{x\rightarrow+\infty}x^{1+\frac{1}{k}}\left(1+\frac{1}{k}\right)x^{-(1+\frac{1}{k})}=1+\frac{1}{k}
\end{align*}
因此所求极限是\(\left(1+\frac{1}{k}\right)^k\).
\end{proof}
\begin{remark}
如果题目没给出需要求的极限 \(\lim_{n\rightarrow \infty} \frac{a_{n}^{k + 1}}{n^k}\)，而是问求 \(a_n\) 的渐近展开式（只展开一项），那么我们就需要待定系数自己探索 \(a_n\) 的阶。待定 \(\alpha>0\)，由 Taylor 公式得到
\begin{align*}
a_{n + 1}^{\alpha}&=\left(a_n+\frac{1}{\sqrt[k]{a_n}}\right)^{\alpha}
=a_n^{\alpha}+\alpha a_n^{\alpha - 1}\frac{1}{\sqrt{a_n}}+o\left(a_n^{\alpha - \frac{3}{2}}\right)\\
&\Rightarrow a_{n + 1}^{\alpha}\approx a_n^{\alpha}+\alpha a_n^{\alpha - \frac{3}{2}}
\Rightarrow a_{n + 1}^{\alpha}-a_n^{\alpha}\approx \alpha a_n^{\alpha - \frac{3}{2}}.
\end{align*}
从而令 \(\alpha = \frac{3}{2}\)，则
\begin{align*}
a_{n + 1}^{\frac{3}{2}}=a_{n + 1}^{\alpha}
=\sum_{k = 1}^n\left(a_{k + 1}^{\alpha}-a_{k}^{\alpha}\right)
\approx \sum_{k = 1}^n\alpha a_{k}^{\alpha - \frac{3}{2}}
=\sum_{k = 1}^n\frac{3}{2}a_{k}^{\frac{3}{2}-\frac{3}{2}}
=\frac{3n}{2}.
\end{align*}
这样就能写出 \(a_n\) 渐近展开式的第一项，即 \(a_n=\left(\frac{3n}{2}\right)^{\frac{2}{3}}+o\left(n^{\frac{2}{3}}\right)\).
\end{remark}

\begin{example}
设\(k\)为正整数，正数列\(\{x_n\}\)满足\(\lim_{n\rightarrow\infty}x_n(x_1^k + x_2^k+\cdots+x_n^k)=1\)，证明：\(\lim_{n\rightarrow\infty}nx_n^{k + 1}=\frac{1}{k + 1}\)。
\end{example}
\begin{proof}
设\(S_n = x_1^k + x_2^k+\cdots+x_n^k\)，则\(S_n\)单调递增。如果\(S_n\)有界，则\(x_n\)趋于零，\(x_nS_n\rightarrow0\)，这与已知条件矛盾，所以\(S_n\)单调递增趋于正无穷，进一步结合条件可知\(x_n\)趋于零。注意到
\begin{align*}
\lim_{n\rightarrow\infty}x_{n + 1}S_n=\lim_{n\rightarrow\infty}\frac{x_{n + 1}S_{n + 1}S_n}{S_{n + 1}}=\lim_{n\rightarrow\infty}\frac{S_n}{S_{n + 1}}=\lim_{n\rightarrow\infty}\frac{1}{1+\frac{a_{n + 1}}{S_{n + 1}}}=1.
\end{align*}
下面运用等价无穷小替换和Stolz公式来求极限:
\begin{align*}
\lim_{n\rightarrow\infty}nx_n^{k + 1}&=\lim_{n\rightarrow\infty}\frac{nx_n^{k + 1}S_n^{k + 1}}{S_n^{k + 1}}=\lim_{n\rightarrow\infty}\frac{n}{S_n^{k + 1}}=\lim_{n\rightarrow\infty}\frac{1}{S_{n + 1}^{k + 1}-S_n^{k + 1}}\\
&=\lim_{n\rightarrow\infty}\frac{1}{(S_{n + 1}-S_n)(S_{n + 1}^k + S_{n + 1}^{k - 1}S_n+\cdots+S_{n + 1}S_n^{k - 1}+S_n^k)}\\
&=\lim_{n\rightarrow\infty}\frac{1}{x_{n + 1}^{k}(S_{n + 1}^k + S_{n + 1}^{k - 1}S_n+\cdots+S_{n + 1}S_n^{k - 1}+S_n^k)}\\
&=\lim_{n\rightarrow\infty}\frac{1}{(x_{n + 1}S_{n + 1})^k+(x_{n + 1}S_{n + 1})^{k - 1}(x_{n + 1}S_n)+\cdots+(x_{n + 1}S_{n + 1})(x_{n + 1}S_n)^{k - 1}+(x_{n + 1}S_n)^k}\\
&=\frac{1}{k + 1}.
\end{align*}
\end{proof}


\begin{example}
设\(\lim_{n \to \infty} a_n \sum\limits_{k = 1}^{n} a_{k}^{2} = 1\),计算\(\lim_{n \to \infty} \sqrt[3]{n}a_n\).
\end{example}
\begin{solution}
因为\(\left\{\sum\limits_{k = 1}^n{a_{k}^{2}}\right\}\)单调递增,故由单调有界定理可知,\(\left\{\sum\limits_{k = 1}^n{a_{k}^{2}}\right\}\)的极限要么为有限数,要么为\(+\infty\).假设\(\lim_{n\rightarrow\infty}a_n\neq 0\)或不存在,则此时\(\lim_{n\rightarrow\infty}\sum\limits_{k = 1}^n{a_{k}^{2}}=+\infty\).否则,设\(\lim_{n\rightarrow\infty}\sum\limits_{k = 1}^n{a_{k}^{2}}=c <\infty\),则\(\lim_{n\rightarrow\infty}a_n=\lim_{n\rightarrow\infty}\left(\sum\limits_{k = 1}^n{a_{k}^{2}}-\sum\limits_{k = 1}^{n - 1}{a_{k}^{2}}\right)=c - c = 0\)矛盾.又由\(\lim_{n\rightarrow\infty}a_n\sum\limits_{k = 1}^n{a_{k}^{2}}=1\)可得\(\lim_{n\rightarrow\infty}a_n=\lim_{n\rightarrow\infty}a_n\sum\limits_{k = 1}^n{a_{k}^{2}}\cdot\lim_{n\rightarrow\infty}\frac{1}{\sum\limits_{k = 1}^n{a_{k}^{2}}}=0\),这与\(\lim_{n\rightarrow\infty}a_n\neq 0\)或不存在矛盾.故\(\lim_{n\rightarrow\infty}a_n = 0\).并且由\(\lim_{n\rightarrow\infty}a_n\sum\limits_{k = 1}^n{a_{k}^{2}}=1\)可知\(a_n\sim\frac{1}{\sum\limits_{k = 1}^n{a_{k}^{2}}}\),\(n\rightarrow\infty\).于是
\begin{align*}
\lim_{n\rightarrow\infty}\frac{1}{na_{n}^{3}}&=\lim_{n\rightarrow\infty}\frac{\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3}{n}=\lim_{n\rightarrow\infty}\left[\left(\sum\limits_{k = 1}^{n + 1}{a_{k}^{2}}\right)^3-\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3\right]\\
&=\lim_{n\rightarrow\infty}\left[\left(a_{n + 1}^{2}+\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3-\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3\right]\\
&=\lim_{n\rightarrow\infty}\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3\left[\left(\frac{a_{n + 1}^{2}}{\sum\limits_{k = 1}^n{a_{k}^{2}}}+1\right)^3 - 1\right]
\end{align*}
又由于\(\lim_{n\rightarrow\infty}\frac{a_{n + 1}^{2}}{\sum\limits_{k = 1}^n{a_{k}^{2}}}=\lim_{n\rightarrow\infty}a_{n + 1}^{2}a_n = 0\),因此由Taylor公式可知\(\left(\frac{a_{n + 1}^{2}}{\sum\limits_{k = 1}^n{a_{k}^{2}}}+1\right)^3 - 1\sim\frac{3a_{n + 1}^{2}}{\sum\limits_{k = 1}^n{a_{k}^{2}}}\),\(n\rightarrow\infty\).从而上式可化为
\begin{align*}
\lim_{n\rightarrow\infty}\frac{1}{na_{n}^{3}}&=\lim_{n\rightarrow\infty}\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3\left[\left(\frac{a_{n + 1}^{2}}{\sum\limits_{k = 1}^n{a_{k}^{2}}}+1\right)^3 - 1\right]\\
&=\lim_{n\rightarrow\infty}\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^3\frac{3a_{n + 1}^{2}}{\sum\limits_{k = 1}^n{a_{k}^{2}}}=3\lim_{n\rightarrow\infty}a_{n + 1}^{2}\left(\sum\limits_{k = 1}^n{a_{k}^{2}}\right)^2\\
&=3\lim_{n\rightarrow\infty}a_{n + 1}^{2}\left(\sum\limits_{k = 1}^{n + 1}{a_{k}^{2}}-a_{n + 1}\right)^2=3\lim_{n\rightarrow\infty}a_{n + 1}^{2}\left(\sum\limits_{k = 1}^{n + 1}{a_{k}^{2}}-a_{n + 1}^{2}\right)^2\\
&=3\lim_{n\rightarrow\infty}\left[a_{n + 1}^{2}\left(\sum\limits_{k = 1}^{n + 1}{a_{k}^{2}}\right)^2 - 2a_{n + 1}^{4}\sum\limits_{k = 1}^{n + 1}{a_{k}^{2}}+a_{n + 1}^{6}\right]=3 + 0 + 0 = 3.
\end{align*}
因此\(\lim_{n\rightarrow\infty}\sqrt[3]{n}a_n=\frac{1}{\sqrt[3]{\lim\limits_{n\rightarrow\infty}\frac{1}{na_{n}^{3}}}}=\frac{1}{\sqrt[3]{3}}\).
\end{solution}

\begin{example}
\begin{enumerate}
\item 设\(x_{n + 1} = \ln(1 + x_n), n = 1, 2, \cdots, x_1 > 0\),计算\(\lim_{n \to \infty} \frac{n(nx_n - 2)}{\ln n}\).

\item 设\(x_{n + 1} = \sin x_n, n = 1, 2, \cdots, x_1 \in (0, \pi)\),计算\(\lim_{n \to \infty} \frac{n}{\ln n}(1 - \sqrt{\frac{n}{3}}x_n)\).

\item 设\(x_1 = 1, x_{n + 1} = x_n + \frac{1}{x_n}, n = 1, 2, \cdots\),计算
\(\lim_{n \to \infty} \frac{\sqrt{2n}(x_n - \sqrt{2n})}{\ln n}\).
\end{enumerate}
\end{example}
\begin{solution}
\begin{enumerate}
\item 由\(\ln(1 + x) \leq x\),\(\forall x\in\mathbb{R}\)可知\(x_{n + 1} \leq x_n\),\(\forall n\in\mathbb{N}\).并且\(x_1 > 0\),假设\(x_n > 0\),则\(x_{n + 1} = \ln(1 + x_n) > 0\).从而由数学归纳法,可知\(x_n > 0\),\(\forall n\in\mathbb{N}\).于是由单调有界定理,可知数列\(\{x_n\}\)收敛.设\(\lim_{n\rightarrow\infty}x_n = a\geq0\).对\(x_{n + 1} = \ln(1 + x_n)\)两边同时令\(n\rightarrow\infty\),可得
\[
a = \lim_{n\rightarrow\infty}x_{n + 1} = \lim_{n\rightarrow\infty}\ln(1 + x_n) = \ln(1 + a).
\]
故\(\lim_{n\rightarrow\infty}x_n = a = 0\).进而,由\(Stolz\)定理可得
\begin{align*}
\lim_{n\rightarrow\infty}\frac{1}{nx_n}&=\lim_{n\rightarrow\infty}\frac{\frac{1}{x_n}}{n}=\lim_{n\rightarrow\infty}\left(\frac{1}{x_{n + 1}} - \frac{1}{x_n}\right)\\
&=\lim_{n\rightarrow\infty}\left(\frac{1}{\ln(1 + x_n)} - \frac{1}{x_n}\right)=\lim_{x\rightarrow0}\left(\frac{1}{\ln(1 + x)} - \frac{1}{x}\right)\\
&=\lim_{x\rightarrow0}\frac{x - \ln(1 + x)}{x\ln(1 + x)}=\lim_{x\rightarrow0}\frac{x - \left(x - \frac{x^2}{2} + o(x^2)\right)}{x^2}=\frac{1}{2}.
\end{align*}
因此\(\lim_{n\rightarrow\infty}nx_n = 2\).即\(x_n\sim\frac{2}{n}\),\(n\rightarrow\infty\).

因而,再结合Stolz定理可得
\begin{align*}
\lim_{n\rightarrow\infty}\frac{n(nx_n - 2)}{\ln n}&=\lim_{n\rightarrow\infty}\frac{nx_n\left(n - \frac{2}{x_n}\right)}{\ln n}=2\lim_{n\rightarrow\infty}\frac{n - \frac{2}{x_n}}{\ln n}\\
&=2\lim_{n\rightarrow\infty}\frac{1 + \frac{2}{x_n} - \frac{2}{x_{n + 1}}}{\ln\left(1 + \frac{1}{n}\right)}=2\lim_{n\rightarrow\infty}\frac{1 + \frac{2}{x_n} - \frac{2}{x_{n + 1}}}{\frac{1}{n}}\\
&=2\lim_{n\rightarrow\infty}\frac{1 + \frac{2}{x_n} - \frac{2}{\ln(1 + x_n)}}{\frac{x_n}{2}}=4\lim_{x\rightarrow0}\frac{1 + \frac{2}{x} - \frac{2}{\ln(1 + x)}}{x}\\
&=4\lim_{x\rightarrow0}\frac{(x + 2)\ln(1 + x) - 2x}{x^2\ln(1 + x)}=4\lim_{x\rightarrow0}\frac{(x + 2)\left(x - \frac{x^2}{2} + \frac{x^3}{3} + o(x^3)\right) - 2x}{x^3}\\
&=4\lim_{x\rightarrow0}\frac{-\frac{x^3}{2} + \frac{2x^3}{3} + o(x^3)}{x^3}=\frac{2}{3}.
\end{align*}
实际上,由上述计算我们可以得到\(x_n\)在\(n\rightarrow\infty\)时的渐进估计:
\begin{align*}
\frac{n(nx_n - 2)}{\ln n}&=\frac{2}{3} + o(1)\Rightarrow nx_n - 2=\frac{2\ln n}{3n} + o\left(\frac{\ln n}{n}\right)\\
&\Rightarrow x_n=\frac{2}{n} + \frac{2\ln n}{3n^2} + o\left(\frac{\ln n}{n^2}\right),n\rightarrow\infty.
\end{align*}

\item 由\(\sin x\leqslant x\),\(\forall x\in\mathbb{R}\)可知\(x_{n + 1}\leqslant x_n\),\(\forall n\in\mathbb{N}\).又由于\(0 < x_1 < \pi\)及\(0 < x_{n + 1} = \sin x_n < 1\),\(\forall n\in\mathbb{N}_+\),故归纳可得\(0\leqslant x_n\leqslant 1\),\(\forall n\geqslant 2\).因此\(\{x_n\}\)极限存在,设\(\lim_{n\rightarrow\infty}x_n = a < \infty\).从而对\(x_{n + 1} = \sin x_n\)两边同时令\(n\rightarrow\infty\)可得
\[
a = \lim_{n\rightarrow\infty}x_{n + 1} = \lim_{n\rightarrow\infty}\sin x_n = \sin a.
\]
故\(\lim_{n\rightarrow\infty}x_n = a = 0\).于是由\(Stolz\)定理可得
\begin{align*}
\lim_{n\rightarrow\infty}\frac{3}{nx_{n}^{2}}&=3\lim_{n\rightarrow\infty}\frac{\frac{1}{x_{n}^{2}}}{n}=3\lim_{n\rightarrow\infty}\left(\frac{1}{x_{n+1}^{2}} - \frac{1}{x_{n}^{2}}\right)=3\lim_{n\rightarrow\infty}\left(\frac{1}{\sin ^2x_n} - \frac{1}{x_{n}^{2}}\right)\\
&=3\lim_{x\rightarrow0}\frac{x^2 - \sin ^2x}{x^2\sin ^2x}=3\lim_{x\rightarrow0}\frac{x^2 - \left(x - \frac{x^3}{3!} + o(x^3)\right)^2}{x^4}\\
&=3\lim_{x\rightarrow0}\frac{\frac{x^4}{3} + o(x^4)}{x^4}=1.
\end{align*}
因此\(\lim_{n\rightarrow\infty}\sqrt{\frac{n}{3}}x_n=\lim_{n\rightarrow\infty}\sqrt{\frac{1}{\frac{3}{nx_{n}^{2}}}}=1\),\(\lim_{n\rightarrow\infty}nx_{n}^{2}=3\).即\(x_n\sim \sqrt{\frac{3}{n}}\),\(n\rightarrow\infty\).进而,再结合\(Stolz\)定理可得
\begin{align*}
\lim_{n\rightarrow \infty} \frac{n}{\ln n}\left(1 - \sqrt{\frac{n}{3}}x_n\right) &\xlongequal{\text{平方差公式}} \lim_{n\rightarrow \infty} \frac{n\left(1 - \frac{n}{3}x_{n}^{2}\right)}{\ln n\left(1 + \sqrt{\frac{n}{3}}x_n\right)}=\lim_{n\rightarrow \infty} \frac{nx_{n}^{2}\left(\frac{1}{x_{n}^{2}} - \frac{n}{3}\right)}{\ln n\left(1 + \sqrt{\frac{n}{3}}x_n\right)}\\
&=\frac{3}{2}\lim_{n\rightarrow \infty} \frac{\frac{1}{x_{n}^{2}} - \frac{n}{3}}{\ln n}=\frac{3}{2}\lim_{n\rightarrow \infty} \frac{\frac{1}{x_{n+1}^{2}} - \frac{1}{x_{n}^{2}} - \frac{1}{3}}{\ln\left(1 + \frac{1}{n}\right)}\\
&=\frac{3}{2}\lim_{n\rightarrow \infty} \frac{\frac{1}{\sin ^2x_n} - \frac{1}{x_{n}^{2}} - \frac{1}{3}}{\frac{1}{n}}=\frac{3}{2}\lim_{n\rightarrow \infty} \frac{\frac{1}{\sin ^2x_n} - \frac{1}{x_{n}^{2}} - \frac{1}{3}}{\frac{x_{n}^{2}}{3}}\\
&=\frac{9}{2}\lim_{x\rightarrow 0} \frac{\frac{1}{\sin ^2x} - \frac{1}{x^2} - \frac{1}{3}}{x^2}=\frac{9}{2}\lim_{x\rightarrow 0} \frac{x^2 - \sin ^2x - \frac{1}{3}x^2\sin ^2x}{x^4\sin ^2x}\\
&=\frac{9}{2}\lim_{x\rightarrow 0} \frac{x^2 - \left(x - \frac{x^3}{3!} + \frac{x^5}{5!} + o(x^5)\right)^2 - \frac{1}{3}x^2\left(x - \frac{x^3}{3!} + \frac{x^5}{5!} + o(x^5)\right)^2}{x^6}\\
&=\frac{9}{2}\lim_{x\rightarrow 0} \frac{-\frac{x^6}{36}-\frac{x^6}{60}+\frac{x^6}{9}+o\left( x^6 \right)}{x^6}=\frac{3}{10}.
\end{align*}
(最几步的计算除了用Taylor展开也可以用洛朗展开计算,即先用长除法算出$\frac{1}{\sin ^2x}=\frac{1}{x^2}+\frac{1}{3}+\frac{1}{15}x^2+o\left( x^2 \right)$,再直接带入计算得到结果,实际上利用洛朗展开计算更加简便.)

\item 由条件可知\(x_{n + 1}=x_n+\frac{1}{x_n}\geqslant x_n\),\(\forall n\in\mathbb{N}_+\).又\(x_1 = 1 > 0\),故归纳可得\(x_n > 0\),\(\forall n\in\mathbb{N}_+\).由单调有界定理可知数列\(\{x_n\}\)的极限要么是\(+\infty\),要么是有限数.假设\(\lim_{n\rightarrow\infty}x_n = a <\infty\),则对\(x_{n + 1}=x_n+\frac{1}{x_n}\)两边同时令\(n\rightarrow\infty\),可得\(a = a+\frac{1}{a}\Rightarrow\frac{1}{a}=0\)矛盾.故\(\lim_{n\rightarrow\infty}x_n = +\infty\).于是由\(Stolz\)定理可得
\begin{align*}
\lim_{n\rightarrow\infty}\frac{x_n}{\sqrt{n}}&=\sqrt{\lim_{n\rightarrow\infty}\frac{x_{n}^{2}}{n}}=\sqrt{\lim_{n\rightarrow\infty}\frac{x_{n + 1}^{2}-x_{n}^{2}}{n + 1 - n}}=\sqrt{\lim_{n\rightarrow\infty}\left(\left(x_n+\frac{1}{x_n}\right)^2 - x_{n}^{2}\right)}\\
&=\sqrt{\lim_{n\rightarrow\infty}\left(2+\frac{1}{x_{n}^{2}}\right)}=\sqrt{2}.
\end{align*}
因此\(x_n\sim\sqrt{2n}\),\(n\rightarrow\infty\).从而\(x_n+\sqrt{2n}\sim 2\sqrt{2n}\),\(n\rightarrow\infty\).再结合\(Stolz\)定理可得
\begin{align*}
\lim_{n\rightarrow\infty}\frac{\sqrt{2n}(x_n-\sqrt{2n})}{\ln n}&\xlongequal{\text{平方差公式}} \lim_{n\rightarrow\infty}\frac{\sqrt{2n}(x_{n}^{2}-2n)}{(x_n+\sqrt{2n})\ln n}=\lim_{n\rightarrow\infty}\frac{\sqrt{2n}(x_{n}^{2}-2n)}{2\sqrt{2n}\ln n}\\
&=\frac{1}{2}\lim_{n\rightarrow\infty}\frac{x_{n}^{2}-2n}{\ln n}=\frac{1}{2}\lim_{n\rightarrow\infty}\frac{x_{n + 1}^{2}-x_{n}^{2}-2}{\ln(n + 1)-\ln n}\\
&=\frac{1}{2}\lim_{n\rightarrow\infty}\frac{\left(x_n+\frac{1}{x_n}\right)^2 - x_{n}^{2}-2}{\frac{1}{n}}=\frac{1}{2}\lim_{n\rightarrow\infty}\frac{\left(x_n+\frac{1}{x_n}\right)^2 - x_{n}^{2}-2}{\frac{2}{x_{n}^{2}}}\\
&=\frac{1}{2}\lim_{n\rightarrow\infty}\frac{\frac{2}{x_{n}^{2}}}{\frac{2}{x_{n}^{2}}}=\frac{1}{2}.
\end{align*}
\end{enumerate}
\end{solution}

\begin{example}
设\(a_1 = 1\),\(a_{n + 1} = a_n + \frac{1}{S_n}\),\(S_n = \sum\limits_{k = 1}^{n} a_k\),计算\(\lim_{n \to \infty} \frac{a_n}{\sqrt{\ln n}}\).
\end{example}
\begin{solution}
由于$a_{n + 1} = a_n + \frac{1}{S_n},\forall n\in \mathbb{N}_+$,并且$a_1>0$,故由数学归纳法可知$a_n>0,\forall n\in \mathbb{N}_+$.又$a_2=a_1+a_1>a_1$,再根据递推式,可以归纳得到数列$\{a_n\}$单调递增.因此,数列$\{a_n\}$要么$\underset{n\rightarrow \infty}{\lim}a_n=a<\infty $,要么$\underset{n\rightarrow \infty}{\lim}a_n=+\infty $.由条件可知\(a_{n + 1}-a_n=\frac{1}{S_n}\geqslant\frac{1}{na_1}=\frac{1}{n}\),\(\forall n\in\mathbb{N}_+\).从而对\(\forall n\in\mathbb{N}_+\),都有
\[
a_n=a_n - a_{n - 1}+a_{n - 1}-a_{n - 2}+\cdots+a_2 - a_1\geqslant\frac{1}{n - 1}+\frac{1}{n - 2}+\cdots+1=\sum_{k = 1}^{n - 1}\frac{1}{k}.
\]
而\(\lim_{n\rightarrow\infty}\sum_{k = 1}^{n - 1}\frac{1}{k}=+\infty\),故\(\lim_{n\rightarrow\infty}a_n=+\infty\).于是由\(Stolz\)定理,可知
\begin{align*}
\lim_{n\rightarrow\infty}\frac{a_n^2}{\ln n}&=\lim_{n\rightarrow\infty}\frac{a_{n + 1}^2 - a_n^2}{\ln(1+\frac{1}{n})}=\lim_{n\rightarrow\infty}n(a_{n + 1}^2 - a_n^2)\\
&=\lim_{n\rightarrow\infty}n\left[\left(a_n+\frac{1}{S_n}\right)^2 - a_n^2\right]=\lim_{n\rightarrow\infty}n\left(\frac{2a_n}{S_n}+\frac{1}{S_n^2}\right).
\end{align*}
根据Stolz定理,可得
\begin{align*}
\lim_{n\rightarrow\infty}\frac{n}{S_n^2}&=\lim_{n\rightarrow\infty}\frac{1}{a_{n + 1}^2}=0;\\
\lim_{n\rightarrow\infty}\frac{na_n}{S_n}&=\lim_{n\rightarrow\infty}\frac{(n + 1)a_{n + 1}-na_n}{a_{n + 1}}=\lim_{n\rightarrow\infty}\left[n + 1-\frac{na_n}{a_{n + 1}}\right].
\end{align*}
由递推公式,可得对\(\forall n\in\mathbb{N}_+\),有
\begin{align*}
1&=n + 1 - n\leqslant n + 1-\frac{na_n}{a_{n + 1}}=n + 1-\frac{na_n}{a_n+\frac{1}{S_n}}=1+\frac{\frac{n}{a_nS_n}}{1+\frac{1}{a_nS_n}}\\
&=1+\frac{n}{1 + a_nS_n}\leqslant1+\frac{n}{1 + a_1S_n}=1+\frac{n}{1 + S_n}.
\end{align*}
又由\(Stolz\)定理,可得\(\lim_{n\rightarrow\infty}\frac{n}{1 + S_n}=\lim_{n\rightarrow\infty}\frac{1}{a_{n + 1}}=0\).故由夹逼准则可知,\(\lim_{n\rightarrow\infty}\frac{na_n}{S_n}=\lim_{n\rightarrow\infty}\left[n + 1-\frac{na_n}{a_{n + 1}}\right]=1\).于是
\[
\lim_{n\rightarrow\infty}\frac{a_n^2}{\ln n}=\lim_{n\rightarrow\infty}n\left(\frac{2a_n}{S_n}+\frac{1}{S_n^2}\right)=2\lim_{n\rightarrow\infty}\frac{na_n}{S_n}+\lim_{n\rightarrow\infty}\frac{n}{S_n^2}=2 + 0=2.
\]
因此\(\lim_{n\rightarrow\infty}\frac{a_n}{\sqrt{\ln n}}=\sqrt{2}\).
\end{solution}


\subsection{函数Stolz定理}

\begin{theorem}[函数Stolz定理]\label{theorem:函数Stolz定理}
设\(T > 0,f,g:[0,+\infty)\to\mathbb{R}\)是内闭有界函数.
\begin{enumerate}[(1)]
\item 设\(g(x + T)>g(x)\),若有\(\lim_{x\rightarrow +\infty}g(x)=+\infty\)且
\[
\lim_{x\rightarrow +\infty}\frac{f(x + T)-f(x)}{g(x + T)-g(x)}=A\in\mathbb{R}\bigcup\{-\infty,+\infty\}.
\]
则有
\[
\lim_{x\rightarrow +\infty}\frac{f(x)}{g(x)}=A.
\]

\item 设\(0 < g(x + T)<g(x)\),若有
\[
\lim_{x\rightarrow +\infty}f(x)=\lim_{x\rightarrow +\infty}g(x)=0,
\]
且
\[
\lim_{x\rightarrow +\infty}\frac{f(x + T)-f(x)}{g(x + T)-g(x)}=A\in\mathbb{R}\bigcup\{-\infty,+\infty\}.
\]

则有
\[
\lim_{x\rightarrow +\infty}\frac{f(x)}{g(x)}=A.
\]
\end{enumerate}
\end{theorem}
\begin{remark}
考试中,如果要用函数Stolz定理,不要直接证明这个抽象的版本(直接证明这个定理太繁琐).而是根据具体问题,利用夹逼准则和数列Stolz定理进行证明.具体可见\hyperref[example:4.272123]{例题\ref{example:4.272123}}.
\end{remark}
\begin{note}
\begin{enumerate}[(1)]
\item 不妨设\(A = 0\)的原因:

\item 不妨设\(T = 1\)的原因:
\end{enumerate}
\end{note}
\begin{proof}
我们仅考虑\(A\in\mathbb{R}\),其余情况类似,为了书写方便,我们不妨设\(A = 0\),否则用\(f - Ag\)代替\(f\)即可. 不妨设\(T = 1\),否则用\(f(Tx)\)代替\(f\)即可.
\begin{enumerate}[(1)]
\item 不妨设\(A = 0\),否则用\(f - Ag\)代替\(f\)即可. 不妨设\(T = 1\),否则用\(f(Tx)\)代替\(f\)即可.对任何\(\varepsilon>0\),由条件知存在某个\(X\in\mathbb{N}\),使得对任何\(x>X\)都有
\begin{align}\label{theorem4.5-equation:13.24}
|f(x + 1)-f(x)|<\varepsilon[g(x + 1)-g(x)],g(x)>0. 
\end{align}
于是对\(\forall x>X\),利用\eqref{theorem4.5-equation:13.24}式,我们有
\begin{align*}
\left|\frac{f(x)}{g(x)}\right|&=\left|\frac{\sum\limits_{k = 1}^{[x]-X}[f(x - k + 1)-f(x - k)]}{g(x)}+\frac{f(x - [x]+X)}{g(x)}\right|\\
&\leqslant\left|\frac{\sum\limits_{k = 1}^{[x]-X}[f(x - k + 1)-f(x - k)]}{g(x)}\right|+\left|\frac{f(x - [x]+X)}{g(x)}\right|\\
&\stackrel{\eqref{theorem4.5-equation:13.24}\text{式}}{\leqslant}\varepsilon\frac{\sum\limits_{k = 1}^{[x]-X}[g(x - k + 1)-g(x - k)]}{|g(x)|}+\left|\frac{f(x - [x]+X)}{g(x)}\right|\\
&=\varepsilon\frac{g(x)-g(x - [x]+X)}{|g(x)|}+\left|\frac{f(x - [x]+X)}{g(x)}\right|\\
&\stackrel{\eqref{theorem4.5-equation:13.24}\text{式}g>0}\leqslant \varepsilon+\left|\frac{f(x - [x]+X)}{g(x)}\right|.
\end{align*}
于是利用\(f\)在\([X,X + 1]\)有界及$X\leqslant x-[x]+X<X+1$,我们有
\[
\varlimsup_{x\rightarrow +\infty}\left|\frac{f(x)}{g(x)}\right|\leqslant\varepsilon,
\]
由\(\varepsilon\)任意性即得
\[
\lim_{x\rightarrow +\infty}\frac{f(x)}{g(x)}=0.
\]
这就完成了证明.

\item 不妨设\(A = 0\),否则用\(f - Ag\)代替\(f\)即可. 不妨设\(T = 1\),否则用\(f(Tx)\)代替\(f\)即可.任何\(\varepsilon>0\),由条件可知存在某个\(X\in\mathbb{N}\),使得对任何\(x>X\)都有
\begin{align}\label{theorem4.5-equation:13.25}
|f(x + 1)-f(x)|<\varepsilon[g(x)-g(x + 1)]. 
\end{align}
于是对\(\forall x>X,\forall n\in\mathbb{N}\),利用\eqref{theorem4.5-equation:13.25}可得
\begin{align*}
\left|\frac{f(x)}{g(x)}\right|&=\left|\frac{\sum\limits_{k = 1}^{n}[f(x + k - 1)-f(x + k)]+f(x + n)}{g(x)}\right|\\
&\leqslant\frac{\sum\limits_{k = 1}^{n}|f(x + k - 1)-f(x + k)|}{g(x)}+\frac{|f(x + n)|}{g(x)}\\
&\leqslant\varepsilon\frac{\sum\limits_{k = 1}^{n}[g(x + k - 1)-g(x + k)]}{g(x)}+\frac{|f(x + n)|}{g(x)}\\
&=\varepsilon\frac{g(x)-g(x + n)}{g(x)}+\frac{|f(x + n)|}{g(x)}\\
&\leqslant\varepsilon+\frac{|f(x + n)|}{g(x)}.
\end{align*}
再利用$\lim_{x\rightarrow +\infty}f(x)=\lim_{x\rightarrow +\infty}g(x)=0$得
\[
\lim_{n\rightarrow\infty}\frac{|f(x + n)|}{g(x)}=0\Rightarrow\left|\frac{f(x)}{g(x)}\right|\leqslant\varepsilon,\forall x>X.
\]
从而结论得证. 
\end{enumerate}
\end{proof}

\begin{example}\label{example:4.272123}
\begin{enumerate}[(1)]
\item 设\(\alpha > - 1\),计算\(\lim_{x\rightarrow +\infty}\frac{\int_{0}^{x}t^{\alpha}|\sin t|dt}{x^{\alpha + 1}}\).

\item 计算\(\lim_{x\rightarrow +\infty}\frac{\int_{0}^{x}\frac{|\sin t|}{t}dt}{\ln x}\).

\item  计算\(\lim_{x\rightarrow +\infty}\frac{1}{x}\int_{0}^{x}(t - [t])dt\),这里\([\cdot]\)表示向下取整函数.
\end{enumerate}
\end{example}
\begin{note}
虽然这个几个问题的思路都是\hyperref[theorem:函数Stolz定理]{函数Stolz定理},但是注意在考试中我们不能直接使用这个定理,需要我们结合具体问题给出这个定理的证明.具体可见下述证明.
\end{note}
\begin{remark}
第(1)题如果直接洛必达得
\[
\lim_{x\rightarrow +\infty}\frac{\int_{0}^{x}t^{\alpha}|\sin t|dt}{x^{\alpha + 1}}=\lim_{x\rightarrow +\infty}\frac{|\sin x|}{\alpha + 1}\text{不存在},
\]
因此无法运用洛必达,但也无法判断原本的极限,而需要其他方法确定其极限.
\end{remark}
\begin{proof}
\begin{enumerate}[(1)]
\item {\color{blue}直接使用\hyperref[theorem:函数Stolz定理]{函数Stolz定理}:}由\hyperref[theorem:函数Stolz定理]{函数Stolz定理}、Lagrange中值定理和\hyperref[theorem:积分中值定理]{积分中值定理}可知
\begin{align*}
&\underset{x\rightarrow +\infty}{\lim}\frac{\int_0^x{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{x^{\alpha +1}}=\underset{x\rightarrow +\infty}{\lim}\frac{\int_0^{x+\pi}{t^{\alpha}\left| \sin t \right|\mathrm{d}t}-\int_0^x{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{\left( x+\pi \right) ^{\alpha +1}-x^{\alpha +1}}
\\
&\xlongequal{Lagrange\text{中值定理}}\underset{x\rightarrow +\infty}{\lim}\frac{\int_x^{x+\pi}{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{\pi \left( \alpha +1 \right) x^{\alpha}}\xlongequal{\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}}\underset{x\rightarrow +\infty}{\lim}\frac{\theta_x ^{\alpha}\int_x^{x+\pi}{\left| \sin t \right|\mathrm{d}t}}{\pi \left( \alpha +1 \right) x^{\alpha}},
\end{align*}
其中$x\leqslant \theta_x \leqslant x+\pi$.从而$\theta_x \sim x,x\rightarrow +\infty$.于是
\begin{align*}
\underset{x\rightarrow +\infty}{\lim}\frac{\int_0^x{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{x^{\alpha +1}}=\underset{x\rightarrow +\infty}{\lim}\frac{\theta_x ^{\alpha}\int_x^{x+\pi}{\left| \sin t \right|\mathrm{d}t}}{\pi \left( \alpha +1 \right) x^{\alpha}}=\frac{1}{\pi \left( \alpha +1 \right)}\underset{x\rightarrow +\infty}{\lim}\int_x^{x+\pi}{\left| \sin t \right|\mathrm{d}t}=\frac{1}{\pi \left( \alpha +1 \right)}\underset{x\rightarrow +\infty}{\lim}\int_0^{\pi}{\left| \sin t \right|\mathrm{d}t}=\frac{2}{\pi \left( \alpha +1 \right)}.
\end{align*}

{\color{blue}不直接使用\hyperref[theorem:函数Stolz定理]{函数Stolz定理}(考试中的书写):}对\(\forall x\in (0, +\infty)\)，存在唯一的\(n\in \mathbb{N}\)，使得\(n\pi \leq x \leq (n + 1)\pi\)。
故
\begin{align}\label{example4.30-1.1}
\frac{\int_0^{n\pi}t^{\alpha}|\sin t|\mathrm{d}t}{[(n + 1)\pi]^{\alpha + 1}} \leq \frac{\int_0^x t^{\alpha}|\sin t|\mathrm{d}t}{x^{\alpha + 1}} \leq \frac{\int_0^{(n + 1)\pi}t^{\alpha}|\sin t|\mathrm{d}t}{(n\pi)^{\alpha + 1}}, \forall x\in [0, +\infty).  
\end{align}
又由数列Stolz定理、Lagrange中值定理和\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}可知
\begin{align}
&\underset{x\rightarrow +\infty}{\lim}\frac{\int_0^{\left( n+1 \right) \pi}{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{\left( n\pi \right) ^{\alpha +1}}\xlongequal[]{\text{Stolz定理}}\frac{1}{\pi ^{\alpha +1}}\underset{x\rightarrow +\infty}{\lim}\frac{\int_{n\pi}^{\left( n+1 \right) \pi}{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{\left( n+1 \right) ^{\alpha +1}-n^{\alpha +1}}\nonumber
\\
&\xlongequal[\text{Lagrange中值定理}]{\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}}\frac{1}{\pi ^{\alpha +1}}\underset{x\rightarrow +\infty}{\lim}\frac{\left( n\pi \right) ^{\alpha}\int_{n\pi}^{\left( n+1 \right) \pi}{\left| \sin t \right|\mathrm{d}t}}{\left( \alpha +1 \right) n^{\alpha +1}}=\frac{2}{\pi \left( \alpha +1 \right)},\label{example4.27(1)-1.2}
\\
&\underset{x\rightarrow +\infty}{\lim}\frac{\int_0^{n\pi}{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{\left[ \left( n+1 \right) \pi \right] ^{\alpha +1}}\xlongequal[]{\text{Stolz定理}}\frac{1}{\pi ^{\alpha +1}}\underset{x\rightarrow +\infty}{\lim}\frac{\int_{\left( n-1 \right) \pi}^{n\pi}{t^{\alpha}\left| \sin t \right|\mathrm{d}t}}{\left( n+1 \right) ^{\alpha +1}-n^{\alpha +1}}\nonumber
\\
&\xlongequal[\text{Lagrange中值定理}]{\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}}\frac{1}{\pi ^{\alpha +1}}\underset{x\rightarrow +\infty}{\lim}\frac{\left( n\pi \right) ^{\alpha}\int_{\left( n-1 \right) \pi}^{n\pi}{\left| \sin t \right|\mathrm{d}t}}{\left( \alpha +1 \right) n^{\alpha +1}}=\frac{2}{\pi \left( \alpha +1 \right)}.\label{example4.27(1)-1.3}
\end{align}
又因为\(n\pi \leq x \leq (n + 1)\pi, \forall x \in (0, +\infty)\)，所以\(n\rightarrow +\infty\)等价于\(x\rightarrow +\infty\).于是利用\eqref{example4.30-1.1}\eqref{example4.27(1)-1.2}\eqref{example4.27(1)-1.3}式，由夹逼准则可得
\[
\lim_{x\rightarrow +\infty} \frac{\int_0^x{t^{\alpha}|\sin t|\mathrm{d}t}}{x^{\alpha +1}}=\underset{n\rightarrow \infty}{\lim}\frac{\int_0^x{t^{\alpha}|\sin t|\mathrm{d}t}}{x^{\alpha +1}}=\frac{2}{\pi (\alpha +1)}.
\]


\item {\color{blue}直接使用\hyperref[theorem:函数Stolz定理]{函数Stolz定理}:}由\hyperref[theorem:函数Stolz定理]{函数Stolz定理}、Lagrange中值定理和\hyperref[theorem:积分中值定理]{积分中值定理}可知
\begin{align}
&\lim_{x\rightarrow +\infty}\frac{\int_{0}^{x}\frac{|\sin t|}{t}dt}{\ln x}=\lim_{x\rightarrow +\infty} \frac{\int_0^{x+\pi}{\frac{|\sin t|}{t}\mathrm{d}t}-\int_0^x{\frac{|\sin t|}{t}\mathrm{d}t}}{\ln \left( x+\pi \right) -\ln x}
\xlongequal{\text{Lagrange中值定理}}\lim_{x\rightarrow +\infty} \frac{\int_x^{x+\pi}{\frac{|\sin t|}{t}\mathrm{d}t}}{\frac{\pi}{x}} \nonumber
\\
&\xlongequal{\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}}\frac{1}{\pi}\lim_{x\rightarrow +\infty} \frac{x}{ \theta _x}\int_x^{x+\pi}{\left| \sin t \right|\mathrm{d}t}
=\frac{1}{\pi}\lim_{x\rightarrow +\infty} \frac{x}{ \theta _x}\int_0^{\pi}{\left| \sin t \right|\mathrm{d}t}
=\frac{2}{\pi}\lim_{x\rightarrow +\infty} \frac{x}{ \theta _x}.\label{example4.27(2)-1.1}
\end{align}
其中\(x\leqslant \theta _x\leqslant x+\pi\).从而$\theta _x\sim x,x\rightarrow +\infty $.再结合\eqref{example4.27(2)-1.1}式可得
\begin{align*}
\lim_{x\rightarrow +\infty}\frac{\int_{0}^{x}\frac{|\sin t|}{t}dt}{\ln x}=\frac{2}{\pi}\lim_{x\rightarrow +\infty} \frac{x}{ \theta _x}=\frac{2}{\pi}.
\end{align*}

{\color{blue}不直接使用\hyperref[theorem:函数Stolz定理]{函数Stolz定理}(考试中的书写):}对\(\forall x\in (0, +\infty)\)，存在唯一的\(n\in \mathbb{N}\)，使得\(n\pi \leq x \leq (n + 1)\pi\)。
故
\begin{align}\label{example4.27(2)-2.1}
\frac{\int_0^{n\pi}\frac{|\sin t|}{t}dt}{\ln((n + 1)\pi)} \leq \frac{\int_0^x\frac{|\sin t|}{t}dt}{\ln x} \leq \frac{\int_0^{(n + 1)\pi}\frac{|\sin t|}{t}dt}{\ln(n\pi)}, \forall x > 0.  
\end{align}
又由数列Stolz定理和\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}可知
\begin{align}
&\lim_{n\rightarrow \infty} \frac{\int_0^{(n+1)\pi}{\frac{|\sin t|}{t}dt}}{\ln\mathrm{(}n\pi )}\xlongequal{\text{Stolz定理}}\lim_{n\rightarrow \infty} \frac{\int_{n\pi}^{(n+1)\pi}{\frac{|\sin t|}{t}dt}}{\ln\mathrm{(}n\pi )-\ln\mathrm{((}n-1)\pi )}\nonumber
\\
&\xlongequal{\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}}\lim_{n\rightarrow \infty} \frac{\frac{1}{n\pi}\int_{n\pi}^{(n+1)\pi}{|\sin t|dt}}{\ln\mathrm{(}1+\frac{1}{n-1})}=\lim_{n\rightarrow \infty} \frac{2(n-1)}{n\pi}=\frac{2}{\pi},\label{example4.27(2)-2.2}
\\
&\lim_{n\rightarrow \infty} \frac{\int_0^{n\pi}{\frac{|\sin t|}{t}dt}}{\ln\mathrm{((}n+1)\pi )}\xlongequal{\text{Stolz定理}}\lim_{n\rightarrow \infty} \frac{\int_{n\pi}^{(n+1)\pi}{\frac{|\sin t|}{t}dt}}{\ln\mathrm{((}n+2)\pi )-\ln\mathrm{((}n+1)\pi )}\nonumber
\\
&\xlongequal{\href{https://mp.weixin.qq.com/s/VseYa0fe0SnELonK0k4puw}{\text{积分中值定理}}}\lim_{n\rightarrow \infty} \frac{\frac{1}{n\pi}\int_{n\pi}^{(n+1)\pi}{|\sin t|dt}}{\ln\mathrm{(}1+\frac{1}{n+1})}=\lim_{n\rightarrow \infty} \frac{2(n+1)}{n\pi}=\frac{2}{\pi}.\label{example4.27(2)-2.3}
\end{align}
又因为\(n\pi \leq x \leq (n + 1)\pi, \forall x \in (0, +\infty)\)，所以\(n\rightarrow +\infty\)等价于\(x\rightarrow +\infty\)。于是利用\eqref{example4.27(2)-2.1}\eqref{example4.27(2)-2.2}\eqref{example4.27(2)-2.3}式，由夹逼准则可得
\[
\lim_{x\rightarrow +\infty}\frac{\int_0^x\frac{|\sin t|}{t}dt}{\ln x} = \lim_{n\rightarrow \infty}\frac{\int_0^x\frac{|\sin t|}{t}dt}{\ln x} = \frac{2}{\pi}.
\]

\item {\color{blue}直接使用\hyperref[theorem:函数Stolz定理]{函数Stolz定理}:}注意到$t-[t]$是$\mathbb{R}$上周期为1的非负函数,故由\hyperref[theorem:函数Stolz定理]{函数Stolz定理}可知
\begin{align*}
\lim_{x\rightarrow +\infty} \frac{1}{x}\int_0^x{(t}-[t])dt&=\lim_{x\rightarrow +\infty} \frac{\int_0^{x+1}{(t-[t])\mathrm{d}t}-\int_0^x{(t-[t])\mathrm{d}t}}{x+1-x}=\lim_{x\rightarrow +\infty} \int_x^{x+1}{(t-[t])\mathrm{d}t}
\\
&=\lim_{x\rightarrow +\infty} \int_x^{x+1}{(t-[t])\mathrm{d}t=\lim_{x\rightarrow +\infty} \int_0^1{(t-[t])\mathrm{d}t}}=\lim_{x\rightarrow +\infty} \int_0^1{t\mathrm{d}t}=\frac{1}{2}. 
\end{align*}

{\color{blue}不直接使用\hyperref[theorem:函数Stolz定理]{函数Stolz定理}(考试中的书写):}对\(\forall x\in (0, +\infty)\)，存在唯一的\(n\in \mathbb{N}\)，使得\(n \leq x \leq n + 1\)。
故
\begin{align}\label{example4.30(3)-1.1}
\frac{\int_0^n{(t}-[t])dt}{n+1}\leqslant \frac{1}{x}\int_0^x{(t}-[t])dt\leqslant \frac{\int_0^{n+1}{(t}-[t])dt}{n},\forall x>0.
\end{align}
又由数列Stolz定理可知
\begin{align}
&\lim_{n\rightarrow \infty} \frac{\int_0^{n+1}{(t}-[t])dt}{n}\xlongequal{\text{Stolz定理}}\lim_{n\rightarrow \infty} \int_n^{n+1}{(t}-[t])dt=\int_0^1{(t}-[t])dt=\int_0^1{t}dt=1,\label{example4.30(3)-1.2}
\\
&\lim_{n\rightarrow \infty} \frac{\int_0^n{(t}-[t])dt}{n+1}\xlongequal{\text{Stolz定理}}\lim_{n\rightarrow \infty} \int_{n-1}^n{(t}-[t])dt=\int_0^1{(t}-[t])dt=\int_0^1{t}dt=1.\label{example4.30(3)-1.3}
\end{align}
又因为\(n \leq x \leq n + 1, \forall x \in (0, +\infty)\)，所以\(n\rightarrow +\infty\)等价于\(x\rightarrow +\infty\)。于是利用\eqref{example4.30(3)-1.1}\eqref{example4.30(3)-1.2}\eqref{example4.30(3)-1.3}式，由夹逼准则可得
\begin{align*}
\lim_{x\rightarrow +\infty} \frac{1}{x}\int_0^x{(t}-[t])dt=\lim_{n\rightarrow \infty} \frac{1}{x}\int_0^x{(t}-[t])dt=1.
\end{align*}
\end{enumerate}
\end{proof}


\end{document}