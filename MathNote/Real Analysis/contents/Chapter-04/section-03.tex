\documentclass[../../main.tex]{subfiles}
\graphicspath{{\subfix{../../image/}}} % 指定图片目录,后续可以直接使用图片文件名。

% 例如:
% \begin{figure}[H]
% \centering
% \includegraphics[scale=0.4]{图.png}
% \caption{}
% \label{figure:图}
% \end{figure}
% 注意:上述\label{}一定要放在\caption{}之后,否则引用图片序号会只会显示??.

\begin{document}

\section{可积函数与连续函数的关系}

\begin{lemma}\label{lemma:引理4.3}
设 \( f(x) \) 在 \( E \) 上可积, 则对 \( \forall \varepsilon > 0 \), 都存在 \( E \) 上的简单函数 \( \varphi(x) \) 使得
\[
\int_E |f(x) - \varphi(x)|\mathrm{d}x < \varepsilon
\]
此时称 \( f(x) \) 可由 \( \varphi(x) \) \textbf{平均逼近}.
\end{lemma}
\begin{proof}
记 \( f(x) = f^+(x) - f^-(x) \). 由非负可测函数积分的定义(上确界的定义)知, 对 \( \forall \varepsilon > 0 \), 存在非负简单函数 \( \varphi^+ \leqslant f^+ \), \( \varphi^- \leqslant f^- \) 使得
\[
\int_E f^+(x)\mathrm{d}x - \int_E \varphi^+(x)\mathrm{d}x < \frac{\varepsilon}{2}
\]
\[
\int_E f^-(x)\mathrm{d}x - \int_E \varphi^-(x)\mathrm{d}x < \frac{\varepsilon}{2}
\]
令 \( \varphi = \varphi^+ - \varphi^- \), 则 \( \varphi(x) \) 是 \( E \) 上的简单函数, 且
\begin{align*}
\int_E{|f(x)}-\varphi (x)|\mathrm{d}x &=\int_E{\left| \left[ f^+\left( x \right) -f^-\left( x \right) \right] -\left[ \varphi ^+\left( x \right) -\varphi ^-\left( x \right) \right] \right|}
\\
&\leqslant \int_E{|f^+(x)}-\varphi ^+(x)|\mathrm{d}x +\int_E{|f^-(x)}-\varphi ^-(x)|\mathrm{d}x 
\\
&=\int_E{[f^+(x)}-\varphi ^+(x)]\mathrm{d}x +\int_E{[f^-(x)}-\varphi ^-(x)]\mathrm{d}x 
\\
&<\frac{\varepsilon}{2}+\frac{\varepsilon}{2}=\varepsilon .
\end{align*}
故引理得证.
\end{proof}

\begin{theorem}\label{theorem:可积函数可被有紧支集的函数逼近}
若 \( f \in L(E) \)，则对任给 \( \varepsilon > 0 \)，存在 \( \mathbb{R}^n \) 上具有紧支集的连续函数 \( g(x) \)，使得
\[
\int_E |f(x) - g(x)| \mathrm{d}x < \varepsilon.
\]
\end{theorem}
\begin{remark}
上述事实表明，若 \( f \in L(E) \)，则对任给的 \( \varepsilon > 0 \)，存在 \( f \) 的分解：
\[
f(x) = g(x) + [f(x) - g(x)] = f_1(x) + f_2(x), \quad x \in E,
\]
其中 \( f_1(x) \) 是 \( \mathbb{R}^n \) 上具有紧支集的连续函数，\( |f_2(x)| \) 在 \( E \) 上的积分小于 \( \varepsilon \).即\textbf{可积函数可以被$\mathbb{R}^n$上具有紧支集的可测简单函数逼近.}
\end{remark}
\begin{proof}
由于 \( f \in L(E) \),故由\reflem{lemma:引理4.3}可知,对任给的 \( \varepsilon > 0 \)，存在 \( \mathbb{R}^n \) 上具有紧支集的可测简单函数 \( \varphi(x) \)，使得
\[
\int_E |f(x) - \varphi(x)| \mathrm{d}x < \frac{\varepsilon}{2}.
\]
不妨设\( |\varphi(x)| \leqslant M \)，又由\nrefthe{theorem:积分的基本性质}{(6)(ii)},故不妨设$E$是有界集.根据\refcor{corollary:推论3.19}可知，存在 \( \mathbb{R}^n \) 上具有紧支集的连续函数 \( g(x) \)，使得 \( |g(x)| \leqslant M \)（\( x \in \mathbb{R}^n \)），且有
\[
m(\{ x \in E : |\varphi(x) - g(x)| > 0 \}) < \frac{\varepsilon}{4M},
\]
从而可得
\begin{align*}
\int_E{|\varphi (x)}-g(x)|\mathrm{d}x&=\int_{\{x\in E:|\varphi (x)-g(x)|>0\}}{|\varphi (x)}-g(x)|\mathrm{d}x+\int_{\{x\in E:|\varphi (x)-g(x)|=0\}}{|\varphi (x)}-g(x)|\mathrm{d}x
\\
&=\int_{\{x\in E:|\varphi (x)-g(x)|>0\}}{|\varphi (x)}-g(x)|\mathrm{d}x
\\
&\leqslant 2Mm(\{x:|\varphi (x)-g(x)|>0\})<\frac{\varepsilon}{2}.
\end{align*}
最后，我们有
\begin{align*}
\int_E |f(x) - g(x)| \mathrm{d}x \leqslant \int_E |f(x) - \varphi(x)| \mathrm{d}x + \int_E |\varphi(x) - g(x)| \mathrm{d}x < \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon.
\end{align*}
\end{proof}

\begin{corollary}
设 \( f \in L(E) \)，则存在 \( \mathbb{R}^n \) 上具有紧支集的连续函数列 \( \{ g_k(x) \} \)，使得

(i)
\[
\lim_{k \to \infty} \int_E |f(x) - g_k(x)| \mathrm{d}x = 0;
\]

(ii)
\[
\lim_{k \to \infty} g_k(x) = f(x), \quad \text{a.e. } x \in E.
\]
\end{corollary}
\begin{proof}
\begin{enumerate}[(i)]
\item 由\refthe{theorem:可积函数可被有紧支集的函数逼近}可知,对\(\forall k \in \mathbb{N}\)，存在具有紧支集的连续函数\(g_k\)，使得
\begin{align*}
\int_E \left| f(x) - g_k(x) \right| \, \mathrm{d}x < \frac{1}{k}.
\end{align*}
令\(k \to \infty\)，得\(\lim_{k \to \infty} \int_E \left| f(x) - g_k(x) \right| \, \mathrm{d}x = 0\).

\item 
\end{enumerate}
\end{proof}

\begin{corollary}
设 \( f \in L([a,b]) \)，则存在其支集在 \( (a,b) \) 内的连续函数列 \( \{ g_k(x) \} \)，使得

(i)
\[
\lim_{k \to \infty} \int_{[a,b]} |f(x) - g_k(x)| \mathrm{d}x = 0;
\]

(ii)
\[
\lim_{k \to \infty} g_k(x) = f(x), \quad \text{a.e. } x \in [a,b].
\]
\end{corollary}
\begin{proof}
\begin{enumerate}[(i)]
\item 

\item 
\end{enumerate}
\end{proof}

\begin{example}
设 \( f \in L(\mathbb{R}^n) \)．若对一切 \( \mathbb{R}^n \) 上具有紧支集的连续函数 \( \varphi(x) \)，有
\[
\int_{\mathbb{R}^n} f(x)\varphi(x) \mathrm{d}x = 0,
\]
则 \( f(x) = 0 \)，a. e. \( x \in \mathbb{R}^n \)．
\end{example}
\begin{proof}
采用反证法．不妨假设 \( f(x) \) 在有界正测集 \( E \) 上有 \( 0 < f(x) \)，则可作具有紧支集的连续函数列 \( \{ \varphi_k(x) \} \)，使得
\[
\lim_{k \to \infty} \int_{\mathbb{R}^n} |\chi_E(x) - \varphi_k(x)| \mathrm{d}x = 0,
\]
\[
|\varphi_k(x)| \leqslant 1 \quad (k = 1,2,\cdots),
\]
\[
\lim_{k \to \infty} \varphi_k(x) = \chi_E(x), \quad \text{a. e. } x \in E.
\]
由于 \( |f(x)\varphi_k(x)| \leqslant |f(x)| \)，\( x \in E \)，故知
\begin{align*}
0 &< \int_E f(x) \mathrm{d}x = \int_{\mathbb{R}^n} f(x)\chi_E(x) \mathrm{d}x \\
&= \lim_{k \to \infty} \int_{\mathbb{R}^n} f(x)\varphi_k(x) \mathrm{d}x = 0,
\end{align*}
矛盾．
\end{proof}

\begin{example}
设 \( f \in L([a,b]) \)．若对其支集在 \( (a,b) \) 内且可微的任一函数 \( \varphi(x) \)，都有
\[
\int_{[a,b]} f(x)\varphi'(x) \mathrm{d}x = 0,
\]
则 \( f(x) = c \)（常数），a. e. \( x \in [a,b] \)．
\end{example}
\begin{proof}
对任意的支集在 \( (a,b) \) 内的连续函数 \( g(x) \)，作 \( h(x) \)：支集在 \( (a,b) \) 内的连续函数，且满足 \( \int_{[a,b]} h(x) \mathrm{d}x = 1 \)．令
\[
\varphi(x) = \int_{[a,x]} g(t) \mathrm{d}t - \int_{[a,x]} h(t) \mathrm{d}t \cdot \int_{[a,b]} g(t) \mathrm{d}t, \quad x \in [a,b],
\]
易知 \( \varphi(x) \) 的支集在 \( (a,b) \) 内，且有
\[
\varphi'(x) = g(x) - h(x)\int_{[a,b]} g(t) \mathrm{d}t, \quad x \in [a,b],
\]
从而由题设可得
\begin{align*}
0 &= \int_{[a,b]} f(x)\varphi'(x) \mathrm{d}x = \int_{[a,b]} f(x)\left( g(x) - h(x)\int_{[a,b]} g(t) \mathrm{d}t \right) \mathrm{d}x \\
&= \int_{[a,b]} f(x)g(x) \mathrm{d}x - \int_{[a,b]} f(x)h(x) \mathrm{d}x \cdot \int_{[a,b]} g(x) \mathrm{d}x \\
&= \int_{[a,b]} \left( f(x) - \int_{[a,b]} f(t)h(t) \mathrm{d}t \right) g(x) \mathrm{d}x.
\end{align*}
因此，我们有
\[
f(x) - \int_{[a,b]} f(t)h(t) \mathrm{d}t = 0, \quad \text{a. e. } x \in [a,b],
\]
即得所证．
\end{proof}

\begin{theorem}[平均连续性]\label{theorem:平均连续性}
若 \( f \in L(\mathbb{R}^n) \)，则有
\[
\lim_{h \to 0} \int_{\mathbb{R}^n} |f(x + h) - f(x)| \, \mathrm{d}x = 0.
\]
\end{theorem}
\begin{proof} 
由\refthe{theorem:可积函数可被有紧支集的函数逼近}可知,任给 \( \varepsilon > 0 \)，作分解 \( f(x) = f_1(x) + f_2(x) \)，其中 \( f_1(x) \) 是 \( \mathbb{R}^n \) 上具有紧支集的连续函数，\( f_2(x) \) 满足
\[
\int_{\mathbb{R}^n} |f_2(x)| \, \mathrm{d}x < \frac{\varepsilon}{4}.
\]
由于紧集上的连续函数是一致连续的,故 \( f_1(x) \) 具有紧支集且在紧支集上是一致连续函数.不妨设\(|f_1(x)| < M\)，由于\(f_1\)在\(\text{supp}f_1\)上一致连续，故存在\(\delta > 0\)，使得当\(|h| < \delta\)时，有
\begin{align*}
|f_1(x + h) - f_1(x)| < \frac{\varepsilon}{2m(\text{supp}f_1 - \{h\})}, \quad \forall x \in \text{supp}f_1 - \{h\}.
\end{align*}
由\hyperref[theorem:外测度的平移不变性]{外测度的平移不变性}可知
\begin{align*}
m(\text{supp}f_1) = m(\text{supp}f_1 - \{h\}).
\end{align*}
于是
\begin{align*}
m(\text{supp}f_1 \backslash (\text{supp}f_1 - \{h\})) = 0.
\end{align*}
注意到
\begin{align*}
\mathbb{R}^n = (\mathbb{R}^n \backslash (\text{supp}f_1 \cup (\text{supp}f_1 - \{h\}))) \cup (\text{supp}f_1 - \{h\}) \cup \text{supp}f_1 \backslash (\text{supp}f_1 - \{h\}).
\end{align*}
进而由\hyperref[theorem:积分对定义域的可数可加性]{积分对定义域的可数可加性}可得
\begin{align*}
\int_{\mathbb{R}^n} |f_1(x + h) - f_1(x)| \, \mathrm{d}x &= \int_{\mathbb{R}^n \backslash (\text{supp}f_1 \cup (\text{supp}f_1 - \{h\}))} |f_1(x + h) - f_1(x)| \, \mathrm{d}x + \int_{\text{supp}f_1 - \{h\}} |f_1(x + h) - f_1(x)| \, \mathrm{d}x 
\\
&\quad + \int_{\text{supp}f_1 \backslash (\text{supp}f_1 - \{h\})} |f_1(x + h) - f_1(x)| \, \mathrm{d}x \\
&< 0\cdot m\left( \mathbb{R} ^n\backslash \left( \mathrm{supp}f_1\cup \left( \mathrm{supp}f_1-\left\{ h \right\} \right) \right) \right) +\frac{\varepsilon}{2m\left( \mathrm{supp}f_1-\left\{ h \right\} \right)}\cdot m\left( \mathrm{supp}f_1-\left\{ h \right\} \right) +M\cdot 0
\\
&=\frac{\varepsilon}{2}.
\end{align*}
从而我们有
\begin{align*}
\int_{\mathbb{R}^n} |f(x + h) - f(x)| \, \mathrm{d}x &\leqslant  \int_{\mathbb{R}^n} |f_1(x + h) - f_1(x)| \, \mathrm{d}x + \int_{\mathbb{R}^n} |f_2(x + h) - f_2(x)| \, \mathrm{d}x \\
&< \frac{\varepsilon}{2} + \int_{\mathbb{R}^n} |f_2(x + h)| \, \mathrm{d}x + \int_{\mathbb{R}^n} |f_2(x)| \, \mathrm{d}x \\
&\xlongequal{\text{\hyperref[theorem:积分变量的平移变换定理]{积分变量的平移变换定理}}} \frac{\varepsilon}{2} + 2 \int_{\mathbb{R}^n} |f_2(x)| \, \mathrm{d}x < \varepsilon.
\end{align*}
\end{proof}

\begin{proposition}\label{proposition:平移集合的测度的极限}
若 \( E \subset \mathbb{R}^n \) 是有界可测集，则
\[
\lim_{|h| \to 0} m(E \cap (E + \{ h \})) = m(E), \quad h \in \mathbb{R}^n.
\]
\end{proposition}
\begin{proof}
考查特征函数 \( \chi_E(x) \)。对于 \( h \in \mathbb{R}^n \)，我们有
\[
\chi_{E + \{ h \}}(x) = \chi_E(x - h), \quad \chi_{E \cap (E + \{ h \})}(x) = \chi_E(x - h) \cdot \chi_E(x),
\]
从而可得
\[
m(E \cap (E + \{ h \})) = \int_{\mathbb{R}^n} \chi_E(x) \cdot \chi_E(x - h) \, \mathrm{d}x.
\]
因为
\[
m(E) = \int_{\mathbb{R}^n} \chi_E(x) \, \mathrm{d}x = \int_{\mathbb{R}^n} \chi_E^2(x) \, \mathrm{d}x,
\]
所以
\begin{align*}
\bigl| m(E \cap (E + \{ h \})) - m(E) \bigr| &\leqslant \int_{\mathbb{R}^n} \bigl| \chi_E(x) \bigr| \bigl| \chi_E(x - h) - \chi_E(x) \bigr| \, \mathrm{d}x \\
&\leqslant \int_{\mathbb{R}^n} \bigl| \chi_E(x - h) - \chi_E(x) \bigr| \, \mathrm{d}x.
\end{align*}
根据可积函数的平均连续性可知，上式右端当 \( |h| \to 0 \) 时趋于零，即得所证。
\end{proof}

\begin{corollary}\label{corollary:推论4.22}
若 \( f \in L(E) \)，则存在具有紧支集的阶梯函数列 \( \{\varphi_k(x)\} \)，使得

(i) \( \lim_{k \to \infty} \varphi_k(x) = f(x) \)，a. e. \( x \in E \)；

(ii) \( \lim_{k \to \infty} \int_E |f(x) - \varphi_k(x)| \, \mathrm{d}x = 0 \)。
\end{corollary}
\begin{proof}
根据\refthe{theorem:可积函数可被有紧支集的函数逼近}可知，对任给的 \( \varepsilon > 0 \)，存在 \( \mathbb{R}^n \) 上具有紧支集的连续函数 \( g(x) \)，使得
\[
\int_E |f(x) - g(x)| \, \mathrm{d}x < \frac{\varepsilon}{2}.
\]
不妨设 \( g(x) \) 的支集含于某个闭方体
\[
I = \{ x = (\zeta_1, \cdots, \zeta_n) : -k_0 \leqslant \zeta_i \leqslant k_0 (i = 1, \cdots, n), k_0 \text{ 是自然数} \}
\]
内，由 \( g(x) \) 的一致连续性不难证明，存在支集含于 \( I \) 内的阶梯函数 \( \varphi(x) \)，使得
\[
\varphi(x) = \sum_{i=1}^N c_i \chi_{I_i}(x), \quad \int_I |g(x) - \varphi(x)| \, \mathrm{d}x < \frac{\varepsilon}{2},
\]
其中每个 \( I_i \) 可以是含于 \( I \) 内的二进方体。从而我们有
\begin{align*}
\int_E |f(x) - \varphi(x)| \, \mathrm{d}x &\leqslant \int_E |f(x) - g(x)| \, \mathrm{d}x + \int_E |g(x) - \varphi(x)| \, \mathrm{d}x \\
&\leqslant \frac{\varepsilon}{2} + \int_I |g(x) - \varphi(x)| \, \mathrm{d}x = \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon.
\end{align*}
于是对 \( \varepsilon_k = 1/k (k = 1, 2, \cdots) \)，就可取到具有紧支集的阶梯函数列 \( \{\varphi_k(x)\} \)，使得
\[
\lim_{k \to \infty} \int_E |f(x) - \varphi_k(x)| \, \mathrm{d}x = 0.
\]
对任给 \( \sigma > 0 \)，令 \( E_k(\sigma) = \{ x \in E : |f(x) - \varphi_k(x)| \geqslant \sigma \} \)，则由于
\[
\sigma m(E_k(\sigma)) \leqslant \int_E |f(x) - \varphi_k(x)| \, \mathrm{d}x,
\]
可知 \( m(E_k(\sigma)) \to 0 (k \to \infty) \)，即 \( \{\varphi_k(x)\} \) 在 \( E \) 上依测度收敛于 \( f(x) \)。
根据\hyperref[theorem:Riesz定理]{Riesz定理},存在 \( \{\varphi_k(x)\} \) 中的子列几乎处处收敛于 \( f(x) \)，此子列满足 (i) 与 (ii)。
\end{proof}

\begin{theorem}[Riemann-Lebesgue引理的推广]\label{theorem:Riemann-Lebesgue引理的推广}
若 \( \{g_n(x)\} \) 是 \([a,b]\) 上的可测函数列，且满足

(i) \( |g_n(x)| \leqslant M \)（\( x \in [a,b] \)）（\( n = 1,2,\cdots \)）；

(ii) 对任意的 \( c \in [a,b] \)，有
\[
\lim_{n \to \infty} \int_{[a,c]} g_n(x) \, \mathrm{d}x = 0,
\]
则对任意的 \( f \in L([a,b]) \)，有
\[
\lim_{n \to \infty} \int_{[a,b]} f(x) g_n(x) \, \mathrm{d}x = 0.
\]
\end{theorem}
\begin{proof}
由\refcor{corollary:推论4.22}可知,对任给的 \( \varepsilon > 0 \)，可作阶梯函数 \( \varphi(x) \)，使得
\[
\int_{[a,b]} |f(x) - \varphi(x)| \, \mathrm{d}x < \frac{\varepsilon}{2M}.
\]
不妨设 \( \varphi(x) \) 在 \([a,b)\) 上有表示式
\[
\varphi(x) = \sum_{i=1}^p y_i \chi_{[x_{i-1},x_i)}(x), \quad x \in [a,b),
\]
其中 \( a = x_0 < x_1 < \cdots < x_p = b \)。因为
\[
\left| \int_{[a,b]} \varphi(x) g_n(x) \, \mathrm{d}x \right| \leqslant \sum_{i=1}^p \left| y_i \int_{[x_{i-1},x_i]} g_n(x) \, \mathrm{d}x \right|,
\]
且从假设可知存在 \( n_0 \)，当 \( n \geqslant n_0 \) 时，上式右端小于 \( \varepsilon/2 \)，所以
\[
\left| \int_{[a,b]} \varphi(x) g_n(x) \, \mathrm{d}x \right| \leqslant \frac{\varepsilon}{2}, \quad n \geqslant n_0.
\]
最后，当 \( n \geqslant n_0 \) 时，得到
\begin{align*}
\left| \int_{[a,b]} f(x) g_n(x) \, \mathrm{d}x \right| &\leqslant \left| \int_{[a,b]} (f(x) - \varphi(x)) g_n(x) \, \mathrm{d}x \right| + \left| \int_{[a,b]} \varphi(x) g_n(x) \, \mathrm{d}x \right| \\
&\leqslant M \int_{[a,b]} |f(x) - \varphi(x)| \, \mathrm{d}x + \frac{\varepsilon}{2} < \varepsilon.
\end{align*}
\end{proof}

\begin{example}
设\(\{\lambda_n\}\)是实数列，且\(\lambda_n \to +\infty\)（\(n \to \infty\)），则点集
\[
A \stackrel{\text{def}}{=} \left\{ x \in \mathbb{R} : \lim_{n \to \infty} \sin\lambda_n x \text{ 存在} \right\}
\]
是零测集。
\end{example}
\begin{remark}
上例说明，存在集合\(E\)上的一致有界可积函数列\(\{f_n(x)\}\)，虽然有\(\lim_{n \to \infty} \int_E f_n(x) \, \mathrm{d}x = 0\)，但其任一子列\(\{f_{n_k}(x)\}\)，均不满足
\[
\lim_{k \to \infty} f_{n_k}(x) = 0, \quad \text{a. e. } x \in E.
\]
\end{remark}
\begin{proof}
令\(f(x) = \lim_{n \to \infty} \chi_A(x) \sin\lambda_n x\)，\(x \in \mathbb{R}\)，则由上例可知，对任意的\(m(B) < +\infty\)的可测集\(B\)，有（有界收敛定理）
\[
\int_B f(x) \, \mathrm{d}x = \lim_{n \to \infty} \int_B \chi_A(x) \sin\lambda_n x \, \mathrm{d}x = 0.
\]
这说明\(f(x) = 0\)，a. e. \(x \in \mathbb{R}\)。

另一方面，我们有
\begin{align*}
\int_B f^2(x) \, \mathrm{d}x &= \lim_{n \to \infty} \int_{B \cap A} \sin^2\lambda_n x \, \mathrm{d}x 
= \lim_{n \to \infty} \frac{1}{2} \int_{B \cap A} (1 - \cos2\lambda_n x) \, \mathrm{d}x \\
&= \frac{1}{2} m(B \cap A) - \lim_{n \to \infty} \frac{1}{2} \int_{B \cap A} \cos2\lambda_n x \, \mathrm{d}x 
= \frac{1}{2} m(B \cap A).
\end{align*}
由此可知\(m(B \cap A) = 0\)。注意到\(B\)的任意性，必有\(m(A) = 0\)。
\end{proof}

\begin{example}
设\(f(x)\)是\([0,1]\)上的有界可测函数。若有
\[
I_n = \int_{[0,1]} x^n f(x) \, \mathrm{d}x = 0 \quad (n = 1,2,\cdots),
\]
则\(f(x) = 0\)，a. e. \(x \in [0,1]\)。
\end{example}
\begin{proof}
令\(F(x) = x f(x)\)（\(x \in [0,1]\)），则得
\[
\int_{[0,1]} x^n F(x) \, \mathrm{d}x = 0 \quad (n = 0,1,2,\cdots).
\]
由此知，对任一多项式\(P(x)\)，也有
\[
\int_{[0,1]} P(x) F(x) \, \mathrm{d}x = 0.
\]

现在，对任意的\(g \in C([0,1])\)以及\(\varepsilon > 0\)，可作多项式\(P(x)\)，使得\(|g(x) - P(x)| < \varepsilon\)（\(x \in [0,1]\)）。因此，我们有
\begin{align*}
\left| \int_{[0,1]} g(x) F(x) \, \mathrm{d}x \right| = \left| \int_{[0,1]} (g(x) - P(x)) F(x) \, \mathrm{d}x \right| 
\leqslant \int_{[0,1]} |g(x) - P(x)| |F(x)| \, \mathrm{d}x \leqslant \varepsilon \int_{[0,1]} |F(x)| \, \mathrm{d}x.
\end{align*}
根据\(\varepsilon\)的任意性，可得\(\int_{[0,1]} g(x) F(x) \, \mathrm{d}x = 0\)。又根据\(g(x)\)的任意性，我们有
\[
F(x) = 0, \text{ a. e. } x \in [0,1], \quad f(x) = 0, \text{ a. e. } x \in [0,1].
\]
\end{proof}

\begin{example}
设\(f(x)\)是\(\mathbb{R}\)上的非负可积函数，则

(i) 存在递增闭集列\(\{F_n\}\)：\(m\left( \mathbb{R} \setminus \bigcup_{n=1}^{\infty} F_n \right) = 0\)，使得\(f \in C(F_n)\)（\(n \in \mathbb{N}\)）；

(ii) 存在定义在\(\mathbb{R}\)上的上半连续函数列\(\{f_n(x)\}\)：
\[
0 \leqslant f_1(x) \leqslant f_2(x) \leqslant \cdots \leqslant f(x) \quad (x \in \mathbb{R}),
\]
使得\(\lim_{n \to \infty} f_n(x) = f(x)\)，a. e. \(x \in \mathbb{R}\)。
\end{example}
\begin{proof}
(i) 作\(\varphi_n \in C(\mathbb{R})\)（\(n \in \mathbb{N}\)），使得
\[
\int_{\mathbb{R}} |f(x) - \varphi_n(x)| \, \mathrm{d}x \leqslant 4^{-n}, \quad \lim_{n \to \infty} \varphi_n(x) = f(x), \text{ a. e. } x \in \mathbb{R}.
\]
即存在\(Z \subset \mathbb{R}\)：\(m(Z) = 0\)，\(\lim_{n \to \infty} \varphi_n(x) = f(x)\)（\(x \in \mathbb{R} \setminus Z\)）。

取开集列\(\{G_n\}\)：\(G_n \supset G_{n+1}\)，\(G_n \supset Z\)（\(n \in \mathbb{N}\)），\(m(G_n) < 2^{-n}\)，以及作闭集列：
\[
F_n = \bigcap_{k=n}^{\infty} \left\{ x \in \mathbb{R} : |\varphi_{k+1}(x) - \varphi_k(x)| \leqslant 2^{-k} \right\} \setminus G_n \quad (n \in \mathbb{N}),
\]
显然有\(F_n \subset F_{n+1}\)（\(n \in \mathbb{N}\)），且\(\varphi_k(x)\)在\(F_n\)上一致收敛到\(f(x)\)。因此\(f \in C(F_n)\)。

下面指出\(m\left( \left( \bigcup_{n=1}^{\infty} F_n \right)^c \right) = 0\)。
实际上，对\(k \in \mathbb{N}\)，记\(W_k = \left\{ x \in \mathbb{R} : |\varphi_{k+1}(x) - \varphi_k(x)| > 2^{-k} \right\}\)，则\(W_k\)是开集，且\(\chi_{W_k}(x) \leqslant 2^k |\varphi_{k+1}(x) - \varphi_k(x)|\)（\(x \in \mathbb{R}\)），以及
\begin{align*}
\int_{\mathbb{R}} \chi_{W_k}(x) \, \mathrm{d}x \leqslant 2^k \int_{\mathbb{R}} |\varphi_{k+1}(x) - \varphi_k(x)| \, \mathrm{d}x \leqslant 2^k \left\{ \int_{\mathbb{R}} |f(x) - \varphi_{k+1}(x)| \, \mathrm{d}x + \int_{\mathbb{R}} |f(x) - \varphi_k(x)| \, \mathrm{d}x \right\} \leqslant 2^{-k+1}.
\end{align*}
因为\(\mathbb{R} \setminus F_n \subset G_n \cup \left( \bigcup_{k \geqslant n}^{\infty} W_k \right)\)，所以
\[
m\left( \mathbb{R} \setminus \bigcup_{n=1}^{\infty} F_n \right) = m\left( \bigcap_{n=1}^{\infty} (\mathbb{R} \setminus F_n) \right) = 0.
\]

(ii) 令\(F_n\)同(i)，\(f_n(x) = f(x) \cdot \chi_{F_n}(x)\)（\(n \in \mathbb{N}\)）。
\end{proof}












































\end{document}